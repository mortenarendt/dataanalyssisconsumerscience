<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 CATA data (Check-All-That-Apply) | Data Analysis in R for Sensory and Consumer Science</title>
  <meta name="description" content="Chapter 8 CATA data (Check-All-That-Apply) | Data Analysis in R for Sensory and Consumer Science" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 CATA data (Check-All-That-Apply) | Data Analysis in R for Sensory and Consumer Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 CATA data (Check-All-That-Apply) | Data Analysis in R for Sensory and Consumer Science" />
  
  
  

<meta name="author" content="Morten Arendt Rasmussen, Julius Terp, Helene Reinbach and Bodil Allesen-Holm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-linear-and-mixed-models.html"/>
<link rel="next" href="hedonic-rating-e.g.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in R for Consumer Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the book</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-get-started---understanding-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> How to get started - understanding R (and RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#organise-and-save-scripts"><i class="fa fa-check"></i><b>2.1.1</b> Organise and save scripts</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-import-data"><i class="fa fa-check"></i><b>2.2</b> How to import data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#import-data-from-r-package"><i class="fa fa-check"></i><b>2.2.1</b> Import data from R-package</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-a-csv-file"><i class="fa fa-check"></i><b>2.2.2</b> Importing a csv file</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-an-excel-filesheet"><i class="fa fa-check"></i><b>2.2.3</b> Importing an Excel file/sheet</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#clipboard-import"><i class="fa fa-check"></i><b>2.2.4</b> Clipboard import</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#looking-at-the-imported-elements"><i class="fa fa-check"></i><b>2.2.5</b> Looking at the imported elements</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#numbers-and-factors---changing-categorisation"><i class="fa fa-check"></i><b>2.2.6</b> Numbers and factors - changing categorisation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-edit-and-merge-datasets"><i class="fa fa-check"></i><b>2.3</b> How to edit and merge datasets</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-save-the-data"><i class="fa fa-check"></i><b>2.4</b> How to save the data</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-export-data-results"><i class="fa fa-check"></i><b>2.5</b> How to export data / results</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#ready-for-analysis"><i class="fa fa-check"></i><b>2.6</b> Ready for analysis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>3</b> Libraries</a></li>
<li class="chapter" data-level="4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>4</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#descriptives-for-a-continuous-variable"><i class="fa fa-check"></i><b>4.1</b> Descriptives for a continuous variable</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mean-median"><i class="fa fa-check"></i><b>4.1.1</b> Mean / median</a></li>
<li class="chapter" data-level="4.1.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#variance"><i class="fa fa-check"></i><b>4.1.2</b> Variance</a></li>
<li class="chapter" data-level="4.1.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>4.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="4.1.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#calculations"><i class="fa fa-check"></i><b>4.1.4</b> Calculations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#distributions-of-count-data"><i class="fa fa-check"></i><b>4.2</b> Distributions of count data</a></li>
<li class="chapter" data-level="4.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#aggregate"><i class="fa fa-check"></i><b>4.3</b> Aggregate</a></li>
<li class="chapter" data-level="4.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#tidyverse"><i class="fa fa-check"></i><b>4.4</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="plotting-data.html"><a href="plotting-data.html"><i class="fa fa-check"></i><b>5</b> Plotting data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="plotting-data.html"><a href="plotting-data.html#histograms-and-boxplots"><i class="fa fa-check"></i><b>5.1</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="5.2" data-path="plotting-data.html"><a href="plotting-data.html#scatter-plots"><i class="fa fa-check"></i><b>5.2</b> Scatter plots</a></li>
<li class="chapter" data-level="5.3" data-path="plotting-data.html"><a href="plotting-data.html#how-to-export-plots"><i class="fa fa-check"></i><b>5.3</b> How to export plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html"><i class="fa fa-check"></i><b>6</b> Introduction to PCA and multivariate data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#interpreting-model-output"><i class="fa fa-check"></i><b>6.1</b> Interpreting model output</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#biplot"><i class="fa fa-check"></i><b>6.1.1</b> Biplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-linear-and-mixed-models.html"><a href="introduction-to-linear-and-mixed-models.html"><i class="fa fa-check"></i><b>7</b> Introduction to linear and mixed models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-linear-and-mixed-models.html"><a href="introduction-to-linear-and-mixed-models.html#what-is-a-linear-model"><i class="fa fa-check"></i><b>7.1</b> What is a linear model?</a></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-linear-and-mixed-models.html"><a href="introduction-to-linear-and-mixed-models.html#normal-and-mixed-models"><i class="fa fa-check"></i><b>7.2</b> Normal and Mixed models</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-linear-and-mixed-models.html"><a href="introduction-to-linear-and-mixed-models.html#normal-model"><i class="fa fa-check"></i><b>7.2.1</b> Normal model</a></li>
<li class="chapter" data-level="7.2.2" data-path="introduction-to-linear-and-mixed-models.html"><a href="introduction-to-linear-and-mixed-models.html#mixed-model"><i class="fa fa-check"></i><b>7.2.2</b> Mixed model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html"><i class="fa fa-check"></i><b>8</b> CATA data (Check-All-That-Apply)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#importing-and-looking-at-the-beer-data"><i class="fa fa-check"></i><b>8.1</b> Importing and looking at the beer data</a></li>
<li class="chapter" data-level="8.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#two-versions-of-the-data"><i class="fa fa-check"></i><b>8.2</b> Two versions of the data</a></li>
<li class="chapter" data-level="8.3" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#cochrans-q-test"><i class="fa fa-check"></i><b>8.3</b> Cochran’s Q test</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#post-hoc-test"><i class="fa fa-check"></i><b>8.3.1</b> Post hoc test</a></li>
<li class="chapter" data-level="8.3.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#for-all-attributes-in-one-run-nice-to-know"><i class="fa fa-check"></i><b>8.3.2</b> For all attributes in one run (nice to know)</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#pca-on-cata-data"><i class="fa fa-check"></i><b>8.4</b> PCA on CATA data</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html"><i class="fa fa-check"></i><b>9</b> Hedonic rating (e.g. liking scores)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#plotting-liking-scores"><i class="fa fa-check"></i><b>9.1</b> Plotting liking scores</a></li>
<li class="chapter" data-level="9.2" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#simple-mixed-models"><i class="fa fa-check"></i><b>9.2</b> Simple mixed models</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#post-hoc-test-1"><i class="fa fa-check"></i><b>9.2.1</b> Post hoc test</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#multifactor-models"><i class="fa fa-check"></i><b>9.3</b> Multifactor models</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#additive-models"><i class="fa fa-check"></i><b>9.3.1</b> Additive models</a></li>
<li class="chapter" data-level="9.3.2" data-path="hedonic-rating-e.g.html"><a href="hedonic-rating-e.g.html#effect-modification-and-interactions"><i class="fa fa-check"></i><b>9.3.2</b> Effect modification and Interactions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html"><i class="fa fa-check"></i><b>10</b> CATA and Hedonics</a>
<ul>
<li class="chapter" data-level="10.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#individual-attributes-and-liking"><i class="fa fa-check"></i><b>10.1</b> Individual attributes and liking</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#an-example-with-refreshing"><i class="fa fa-check"></i><b>10.1.1</b> An example with Refreshing</a></li>
<li class="chapter" data-level="10.1.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#all-attributes"><i class="fa fa-check"></i><b>10.1.2</b> All attributes</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pca-on-cata-and-liking"><i class="fa fa-check"></i><b>10.2</b> PCA on CATA and Liking</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#a-beer-centric-model"><i class="fa fa-check"></i><b>10.2.1</b> A beer centric model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="projective-mapping.html"><a href="projective-mapping.html"><i class="fa fa-check"></i><b>11</b> Projective mapping</a>
<ul>
<li class="chapter" data-level="11.1" data-path="projective-mapping.html"><a href="projective-mapping.html#example-from-mapping-of-xx"><i class="fa fa-check"></i><b>11.1</b> Example from mapping of XX</a></li>
<li class="chapter" data-level="11.2" data-path="projective-mapping.html"><a href="projective-mapping.html#a-collated-version-of-the-data"><i class="fa fa-check"></i><b>11.2</b> A Collated version of the data</a></li>
<li class="chapter" data-level="11.3" data-path="projective-mapping.html"><a href="projective-mapping.html#pca-on-collated-data"><i class="fa fa-check"></i><b>11.3</b> PCA on Collated data</a></li>
<li class="chapter" data-level="11.4" data-path="projective-mapping.html"><a href="projective-mapping.html#section"><i class="fa fa-check"></i><b>11.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tfih-exercises.html"><a href="tfih-exercises.html"><i class="fa fa-check"></i><b>12</b> TFIH Exercises</a>
<ul>
<li class="chapter" data-level="12.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-1-descriptive-statistics-and-plots"><i class="fa fa-check"></i><b>12.1</b> Exercise 1: Descriptive statistics and plots</a></li>
<li class="chapter" data-level="12.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-2-pca-on-consumer-background"><i class="fa fa-check"></i><b>12.2</b> Exercise 2: PCA on consumer background</a></li>
<li class="chapter" data-level="12.3" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-3-pca-on-cata-counts"><i class="fa fa-check"></i><b>12.3</b> Exercise 3: PCA on CATA counts</a></li>
<li class="chapter" data-level="12.4" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-4-cochrans-q-test-on-cata-binary-data"><i class="fa fa-check"></i><b>12.4</b> Exercise 4: Cochran’s Q test on CATA binary data</a></li>
<li class="chapter" data-level="12.5" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-5-pca-on-hedonic-ratings"><i class="fa fa-check"></i><b>12.5</b> Exercise 5: PCA on hedonic ratings</a></li>
<li class="chapter" data-level="12.6" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-6-pca-on-cata-counts-and-hedonic-ratings"><i class="fa fa-check"></i><b>12.6</b> Exercise 6: PCA on CATA counts and hedonic ratings</a></li>
<li class="chapter" data-level="12.7" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-7-mixed-modelling-on-hedonic-ratings"><i class="fa fa-check"></i><b>12.7</b> Exercise 7: Mixed modelling on hedonic ratings</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#simple"><i class="fa fa-check"></i><b>12.7.1</b> simple</a></li>
<li class="chapter" data-level="12.7.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#multifactorial"><i class="fa fa-check"></i><b>12.7.2</b> multifactorial</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="preference-mapping.html"><a href="preference-mapping.html"><i class="fa fa-check"></i><b>13</b> Preference Mapping</a>
<ul>
<li class="chapter" data-level="13.1" data-path="preference-mapping.html"><a href="preference-mapping.html#example-of-preference-mapping"><i class="fa fa-check"></i><b>13.1</b> Example of Preference Mapping</a></li>
<li class="chapter" data-level="13.2" data-path="preference-mapping.html"><a href="preference-mapping.html#pca"><i class="fa fa-check"></i><b>13.2</b> PCA</a></li>
<li class="chapter" data-level="13.3" data-path="preference-mapping.html"><a href="preference-mapping.html#analysis-by-pls"><i class="fa fa-check"></i><b>13.3</b> Analysis by PLS</a></li>
<li class="chapter" data-level="13.4" data-path="preference-mapping.html"><a href="preference-mapping.html#l-pls-for-the-future"><i class="fa fa-check"></i><b>13.4</b> L-PLS [For the future…]</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="latent-factor-models.html"><a href="latent-factor-models.html"><i class="fa fa-check"></i><b>14</b> Latent Factor Models</a></li>
<li class="chapter" data-level="15" data-path="lpls.html"><a href="lpls.html"><i class="fa fa-check"></i><b>15</b> LPLS</a></li>
<li class="chapter" data-level="16" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html"><i class="fa fa-check"></i><b>16</b> Consumer Segmentation</a>
<ul>
<li class="chapter" data-level="16.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#kmeans"><i class="fa fa-check"></i><b>16.1</b> Kmeans</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="more-pca.html"><a href="more-pca.html"><i class="fa fa-check"></i><b>17</b> More PCA</a></li>
<li class="chapter" data-level="18" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>18</b> Logistic Regression</a></li>
<li class="chapter" data-level="19" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html"><i class="fa fa-check"></i><b>19</b> Confirmatory Factor Analysis using lavaan</a>
<ul>
<li class="chapter" data-level="19.1" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html#example---food-neophobia"><i class="fa fa-check"></i><b>19.1</b> Example - Food Neophobia</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html"><i class="fa fa-check"></i><b>20</b> Structured Equation Modelling</a>
<ul>
<li class="chapter" data-level="20.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#example---theory-of-planned-behaviour"><i class="fa fa-check"></i><b>20.1</b> Example - Theory of Planned Behaviour</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#plsda-cataon-cata-and-liking"><i class="fa fa-check"></i><b>20.1.1</b> PLSDA (CATA??)on CATA and liking??</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html"><i class="fa fa-check"></i><b>21</b> PCA on survey answers</a>
<ul>
<li class="chapter" data-level="21.1" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html#bi-plot"><i class="fa fa-check"></i><b>21.1</b> Bi-plot</a>
<ul>
<li class="chapter" data-level="21.1.1" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html#extract-the-components-and-run-all-associations."><i class="fa fa-check"></i><b>21.1.1</b> Extract the components and run all associations.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>22</b> Linear models</a>
<ul>
<li class="chapter" data-level="22.1" data-path="linear-models.html"><a href="linear-models.html#example"><i class="fa fa-check"></i><b>22.1</b> Example</a></li>
<li class="chapter" data-level="22.2" data-path="linear-models.html"><a href="linear-models.html#run-a-bunch-of-models-at-once"><i class="fa fa-check"></i><b>22.2</b> Run a bunch of models at once</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="linear-models.html"><a href="linear-models.html#a-plot"><i class="fa fa-check"></i><b>22.2.1</b> A plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="mixed-models.html"><a href="mixed-models.html"><i class="fa fa-check"></i><b>23</b> Mixed models</a>
<ul>
<li class="chapter" data-level="23.1" data-path="mixed-models.html"><a href="mixed-models.html#with-several-variables"><i class="fa fa-check"></i><b>23.1</b> With several variables</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in R for Sensory and Consumer Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cata-data-check-all-that-apply" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> CATA data (Check-All-That-Apply)<a href="cata-data-check-all-that-apply.html#cata-data-check-all-that-apply" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Check-All-That-Apply (CATA) data is in its raw form binary indicating whether a participant finds a product to have the attribute (1) or not (0).</p>
<p>Usually, such data is organized in a matrix where each row corresponds to the evaluation of one product by one respondent (sensory panelist, consumer or other). The columns describe the product ID/properties, respondent number and the attributes.</p>
<p>Say you for instance have 26 participants and 4 products, and further that all products are evaluated by all respondents once on 13 attributes. Your data matrix would then have 104 rows and 13 columns (with responses) and additionally columns indicating respondent, product, record id, date, etc.</p>
<p>In the CATA section of this book, we will use a data set with Beer. The data originates from Giacalone, Bredie, and Frøst (2013). They consist of evaluation of six different commercial beers from Danish craft brewers evaluated by <span class="math inline">\(160\)</span> consumers on a range of different questions:</p>
<ul>
<li>Sensory properties: the consumers’ response to 27 sensory descriptors (s_descriptor), some of which are super-ordinate and others more detailed. Includes information about beer and respondent. One line for each beer (6) x consumer (160) . This dataset is called <em>beercata</em>.</li>
<li>Background information: a range of questions about consumers’ demography, food neophobia, beer knowledge and use, also including appropriateness ratings (a descriptor) for 27 sensory descriptors on a 7-points scale (e.g. <em>how appropriate do you think it is for a beer to be bitter?</em>). The two semantic anchors were <em>1 = not at all appropriate</em> and <em>7 = extremely appropriate</em>. This dataset is called <em>beerbackground</em>.</li>
<li>Hedonics: Their hedonic responses to the beer on a 7-point hedonic scale (1-7). This dataset is called <em>beerliking</em>.</li>
</ul>
<div id="importing-and-looking-at-the-beer-data" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Importing and looking at the beer data<a href="cata-data-check-all-that-apply.html#importing-and-looking-at-the-beer-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The data appear as a part of the data4consumerscience package (see <a href="introduction-to-r.html#import-data-from-r-package">Import data from R-package</a>)</p>
<p>We first have to import or load the data. Here is the import, remember to change the path for the Excel file to match your own settings:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="cata-data-check-all-that-apply.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb81-2"><a href="cata-data-check-all-that-apply.html#cb81-2" aria-hidden="true" tabindex="-1"></a>beercata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;DatasetRbook.xlsx&#39;</span>,<span class="at">sheet =</span> <span class="st">&#39;BeerCATA&#39;</span>)</span>
<span id="cb81-3"><a href="cata-data-check-all-that-apply.html#cb81-3" aria-hidden="true" tabindex="-1"></a>Beerbackground <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;DatasetRbook.xlsx&#39;</span>,<span class="at">sheet =</span> <span class="st">&#39;BeerBackground&#39;</span>)</span>
<span id="cb81-4"><a href="cata-data-check-all-that-apply.html#cb81-4" aria-hidden="true" tabindex="-1"></a>beerliking <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;DatasetRbook.xlsx&#39;</span>,<span class="at">sheet =</span> <span class="st">&#39;BeerLiking&#39;</span>)</span></code></pre></div>
<p>The packages you need to run the analyses are activated with the library function and the package name. If the package is not installed, please do this first:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="cata-data-check-all-that-apply.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data4consumerscience)</span>
<span id="cb82-2"><a href="cata-data-check-all-that-apply.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb82-3"><a href="cata-data-check-all-that-apply.html#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="cata-data-check-all-that-apply.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;beercata&quot;</span>)</span>
<span id="cb82-5"><a href="cata-data-check-all-that-apply.html#cb82-5" aria-hidden="true" tabindex="-1"></a>beercata <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##   Consumer.ID          Beer S_Flowers S_Beans S_Intense berries S_Caramel
## 1         a01     Brown Ale         0       0                 0         0
## 2         a01      NY Lager         0       1                 1         0
## 3         a01    Porse Bock         0       0                 0         0
## 4         a01 Ravnsborg Red         0       0                 0         0
## 5         a01    River Beer         0       0                 1         0
## 6         a01     Wheat IPA         0       0                 0         0
##   S_Nuts S_Savoury spices S_Dessert spices S_Regional spices S_Herbs
## 1      0                0                0                 0       0
## 2      0                0                0                 0       0
## 3      0                0                0                 0       1
## 4      0                0                0                 0       0
## 5      0                0                0                 0       0
## 6      1                0                0                 0       1
##   S_Citrus fruit S_Berries S_Fruit S_Dried fruit S_Liquor S_Bitter S_Sparkling
## 1              0         0       1             0        0        0           0
## 2              0         0       0             0        1        1           0
## 3              0         0       0             0        0        1           0
## 4              0         0       0             0        1        1           0
## 5              0         0       0             0        1        1           1
## 6              0         0       0             0        0        1           0
##   S_Refreshing S_Fruity S_Aromatic S_Pungent S_Still S_Smoked S_Foamy S_Sour
## 1            1        0          1         0       0        0       0      0
## 2            0        0          0         0       0        0       0      0
## 3            0        0          1         0       0        0       0      1
## 4            0        0          1         0       0        0       0      1
## 5            0        0          0         0       0        0       0      1
## 6            0        0          1         1       0        0       0      0
##   S_Sweet S_Warming S_Vinous
## 1       0         0        0
## 2       0         0        0
## 3       0         0        0
## 4       0         0        0
## 5       0         0        0
## 6       0         0        0</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="cata-data-check-all-that-apply.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(beercata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    960 obs. of  29 variables:
##  $ Consumer.ID      : chr  &quot;a01&quot; &quot;a01&quot; &quot;a01&quot; &quot;a01&quot; ...
##  $ Beer             : chr  &quot;Brown Ale&quot; &quot;NY Lager&quot; &quot;Porse Bock&quot; &quot;Ravnsborg Red&quot; ...
##  $ S_Flowers        : num  0 0 0 0 0 0 0 0 0 1 ...
##  $ S_Beans          : num  0 1 0 0 0 0 0 0 0 0 ...
##  $ S_Intense berries: num  0 1 0 0 1 0 1 0 0 0 ...
##  $ S_Caramel        : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ S_Nuts           : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ S_Savoury spices : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ S_Dessert spices : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ S_Regional spices: num  0 0 0 0 0 0 0 0 1 0 ...
##  $ S_Herbs          : num  0 0 1 0 0 1 0 0 0 0 ...
##  $ S_Citrus fruit   : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ S_Berries        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ S_Fruit          : num  1 0 0 0 0 0 0 1 0 0 ...
##  $ S_Dried fruit    : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ S_Liquor         : num  0 1 0 1 1 0 0 0 0 0 ...
##  $ S_Bitter         : num  0 1 1 1 1 1 0 0 0 1 ...
##  $ S_Sparkling      : num  0 0 0 0 1 0 0 0 0 0 ...
##  $ S_Refreshing     : num  1 0 0 0 0 0 0 0 0 0 ...
##  $ S_Fruity         : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ S_Aromatic       : num  1 0 1 1 0 1 1 1 0 1 ...
##  $ S_Pungent        : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ S_Still          : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ S_Smoked         : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ S_Foamy          : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ S_Sour           : num  0 0 1 1 1 0 1 0 0 1 ...
##  $ S_Sweet          : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ S_Warming        : num  0 0 0 0 0 0 0 0 1 0 ...
##  $ S_Vinous         : num  0 0 0 0 0 0 0 0 0 0 ...</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="cata-data-check-all-that-apply.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(beercata<span class="sc">$</span>Beer) </span></code></pre></div>
<pre><code>## 
##     Brown Ale      NY Lager    Porse Bock Ravnsborg Red    River Beer 
##           160           160           160           160           160 
##     Wheat IPA 
##           160</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="cata-data-check-all-that-apply.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(beercata<span class="sc">$</span>Consumer.ID))</span></code></pre></div>
<pre><code>## [1] 160</code></pre>
<p>From the above functions, you can see the data structure. Using the str() function will give you all the variable names. The lentgh() function is counting the number of participants as we have asked for the Consumer.ID variable in the dataset beercata.</p>
</div>
<div id="two-versions-of-the-data" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Two versions of the data<a href="cata-data-check-all-that-apply.html#two-versions-of-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For analyses of CATA data, we need to versions of the data:</p>
<ul>
<li>Raw data (binary, 0/1) with each row being responses from one evaluation (beercata dataset)</li>
<li>Agglomerated to counts, with each row being one product</li>
</ul>
<p>The agglomerated version of the counts is computed by:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="cata-data-check-all-that-apply.html#cb90-1" aria-hidden="true" tabindex="-1"></a>beercatasum <span class="ot">&lt;-</span> beercata <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="cata-data-check-all-that-apply.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(attrib, val, S_Flowers<span class="sc">:</span>S_Vinous) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="cata-data-check-all-that-apply.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Beer,attrib) <span class="sc">%&gt;%</span></span>
<span id="cb90-4"><a href="cata-data-check-all-that-apply.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">sum</span>(val)) <span class="sc">%&gt;%</span> </span>
<span id="cb90-5"><a href="cata-data-check-all-that-apply.html#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(attrib,n)</span>
<span id="cb90-6"><a href="cata-data-check-all-that-apply.html#cb90-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-7"><a href="cata-data-check-all-that-apply.html#cb90-7" aria-hidden="true" tabindex="-1"></a>beercatasum</span></code></pre></div>
<pre><code>## # A tibble: 6 × 28
## # Groups:   Beer [6]
##   Beer   S_Aro…¹ S_Beans S_Ber…² S_Bit…³ S_Car…⁴ S_Cit…⁵ S_Des…⁶ S_Dri…⁷ S_Flo…⁸
##   &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 Brown…      57      54       6      63      52      10      13      21       4
## 2 NY La…      37      10       5      69      16      30      20       6      46
## 3 Porse…      20       2       5      67       7      34      16       6      27
## 4 Ravns…      52      25       6      71      35      11      19      14      17
## 5 River…      22      12       4      65       3      29       8       4      22
## 6 Wheat…      29       9       9      57       9      30      24       6      45
## # … with 18 more variables: S_Foamy &lt;dbl&gt;, S_Fruit &lt;dbl&gt;, S_Fruity &lt;dbl&gt;,
## #   S_Herbs &lt;dbl&gt;, `S_Intense berries` &lt;dbl&gt;, S_Liquor &lt;dbl&gt;, S_Nuts &lt;dbl&gt;,
## #   S_Pungent &lt;dbl&gt;, S_Refreshing &lt;dbl&gt;, `S_Regional spices` &lt;dbl&gt;,
## #   `S_Savoury spices` &lt;dbl&gt;, S_Smoked &lt;dbl&gt;, S_Sour &lt;dbl&gt;, S_Sparkling &lt;dbl&gt;,
## #   S_Still &lt;dbl&gt;, S_Sweet &lt;dbl&gt;, S_Vinous &lt;dbl&gt;, S_Warming &lt;dbl&gt;, and
## #   abbreviated variable names ¹​S_Aromatic, ²​S_Berries, ³​S_Bitter, ⁴​S_Caramel,
## #   ⁵​`S_Citrus fruit`, ⁶​`S_Dessert spices`, ⁷​`S_Dried fruit`, ⁸​S_Flowers</code></pre>
<p>We call our new dataset <em>beercatasum</em>. Gather all the variables from <em>S_Flower</em> to <em>S_Vinous</em> and call them <em>attrib</em>. Group all data by the <em>Beer</em> variable (sample name column) and <em>attrib</em> (all of our CATA variables), then sum up the values (val) and call them <em>n</em>. Make a table of <em>attrib</em> and <em>n</em>. Save it all as the new name <em>beercatasum</em>. Then finally shown us the new data set.</p>
<p>… and visualized by for instance a barplot.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="cata-data-check-all-that-apply.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summary counts over attribute</span></span>
<span id="cb92-2"><a href="cata-data-check-all-that-apply.html#cb92-2" aria-hidden="true" tabindex="-1"></a>beercatasum <span class="sc">%&gt;%</span> </span>
<span id="cb92-3"><a href="cata-data-check-all-that-apply.html#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(attrib, n, S_Aromatic<span class="sc">:</span>S_Warming) <span class="sc">%&gt;%</span> </span>
<span id="cb92-4"><a href="cata-data-check-all-that-apply.html#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(<span class="at">x =</span> attrib, <span class="at">y =</span> n, <span class="at">fill =</span> Beer)) <span class="sc">+</span> </span>
<span id="cb92-5"><a href="cata-data-check-all-that-apply.html#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&#39;identity&#39;</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span> </span>
<span id="cb92-6"><a href="cata-data-check-all-that-apply.html#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p>To plot all attributes, we need a long data format (discussed in more detail in chapter 1 in the section <a href="introduction-to-r.html#edit-using-tidyverse">Edit using Tidyverse</a>). <em>gather</em> creates the long format, which is then added as the first input in the plot (represented by “.”). The different attributes are depicted on the x-axis, with the summed up values grouped by beer-type on the y-axis. The last line (coord_flip()) flips the plot, to make the attributes more readable.</p>
<p>For more plot types go to the Chapter on <a href="plotting-data.html#plotting-data">Plotting data</a>.</p>
</div>
<div id="cochrans-q-test" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Cochran’s Q test<a href="cata-data-check-all-that-apply.html#cochrans-q-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Cochran’s Q test is a statistical test for the comparison of several products, where the response is binary, and there is repeated responses across several judges. We need the package <strong>RVAideMemoire</strong>.The data needs to be structured as the <em>beercata</em> is.</p>
<p>We can only run the model independently for one variable at a time.</p>
<p>For one response variable: <em>S_Flowers</em></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="cata-data-check-all-that-apply.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RVAideMemoire)</span>
<span id="cb93-2"><a href="cata-data-check-all-that-apply.html#cb93-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">cochran.qtest</span>(S_Flowers <span class="sc">~</span> Beer <span class="sc">|</span> Consumer.ID,</span>
<span id="cb93-3"><a href="cata-data-check-all-that-apply.html#cb93-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">data =</span> beercata)</span>
<span id="cb93-4"><a href="cata-data-check-all-that-apply.html#cb93-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-5"><a href="cata-data-check-all-that-apply.html#cb93-5" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>## 
##  Cochran&#39;s Q test
## 
## data:  S_Flowers by Beer, block = Consumer.ID 
## Q = 63.252, df = 5, p-value = 2.581e-12
## alternative hypothesis: true difference in probabilities is not equal to 0 
## sample estimates:
## proba in group             &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt; 
##         0.02500         0.28750         0.16875         0.10625         0.13750 
##            &lt;NA&gt; 
##         0.28125</code></pre>
<p>The p.value is strongly significant, indicating that we cannot assume the same level of S_Flower in all beers. I.e. the beers seems different based on this characteristics. This is in agreement with the barplot above, where S_Flower is high in NY Lager and really low for Brown ale.</p>
<p>But in reality we only know that the beers are different overall, not which specific beers that are different. For this we need at post hoc test.</p>
<div id="post-hoc-test" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Post hoc test<a href="cata-data-check-all-that-apply.html#post-hoc-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we observe differences based on this attribute, we pursue the question on which products stick out? And are there products which are similar? This is done by pairwise comparisons, for this we need the package <em>rcompanion</em>:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="cata-data-check-all-that-apply.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rcompanion)</span>
<span id="cb95-2"><a href="cata-data-check-all-that-apply.html#cb95-2" aria-hidden="true" tabindex="-1"></a>PT <span class="ot">=</span> <span class="fu">pairwiseMcnemar</span>(S_Flowers <span class="sc">~</span> Beer <span class="sc">|</span> Consumer.ID,</span>
<span id="cb95-3"><a href="cata-data-check-all-that-apply.html#cb95-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data   =</span> beercata,</span>
<span id="cb95-4"><a href="cata-data-check-all-that-apply.html#cb95-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">test   =</span> <span class="st">&quot;permutation&quot;</span>,</span>
<span id="cb95-5"><a href="cata-data-check-all-that-apply.html#cb95-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">method =</span> <span class="st">&quot;fdr&quot;</span>,</span>
<span id="cb95-6"><a href="cata-data-check-all-that-apply.html#cb95-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb95-7"><a href="cata-data-check-all-that-apply.html#cb95-7" aria-hidden="true" tabindex="-1"></a>PT<span class="sc">$</span>Pairwise <span class="sc">%&gt;%</span> </span>
<span id="cb95-8"><a href="cata-data-check-all-that-apply.html#cb95-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span><span class="fu">abs</span>(<span class="fu">as.numeric</span>(Z))) <span class="sc">%&gt;%</span> </span>
<span id="cb95-9"><a href="cata-data-check-all-that-apply.html#cb95-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span></code></pre></div>
<pre><code>##                        Comparison      Z  p.value p.adjust
## 1        Brown Ale - NY Lager = 0  -6.48 9.13e-11 1.37e-09
## 2       Brown Ale - Wheat IPA = 0  -5.86 4.71e-09 3.53e-08
## 3      Brown Ale - Porse Bock = 0  -4.27 1.95e-05 9.75e-05
## 4    NY Lager - Ravnsborg Red = 0   4.14 3.43e-05 1.29e-04
## 5   Ravnsborg Red - Wheat IPA = 0  -3.96  7.5e-05 2.25e-04
## 6       NY Lager - River Beer = 0   3.54 0.000402 8.48e-04
## 7      Brown Ale - River Beer = 0  -3.53 0.000415 8.48e-04
## 8      River Beer - Wheat IPA = 0  -3.51 0.000452 8.48e-04
## 9   Brown Ale - Ravnsborg Red = 0  -2.98  0.00286 4.77e-03
## 10      NY Lager - Porse Bock = 0   2.52   0.0118 1.77e-02
## 11     Porse Bock - Wheat IPA = 0  -2.36   0.0181 2.47e-02
## 12 Porse Bock - Ravnsborg Red = 0   1.54    0.123 1.54e-01
## 13    Porse Bock - River Beer = 0  0.845    0.398 4.26e-01
## 14 Ravnsborg Red - River Beer = 0 -0.845    0.398 4.26e-01
## 15       NY Lager - Wheat IPA = 0  0.135    0.893 8.93e-01</code></pre>
<p>The first part of the code is conducting the Post hoc test, whereas the last part of the code sorts the table from highest to lowest numerical value of Z. This is done to ease the interpretation of the table.</p>
<p>Most products are significantly different, while <em>Porse Bock</em> and <em>Ravnsborg Red</em> are fairly alike. This is determined by looking at the adjusted p-value, and checking whether it is exceed the desired <span class="math display">\[\alpha\]</span>-level. The adjusted p-values are used, as they have been adjusted to compensate for the fact that multiple pairwise comparisons are conducted.</p>
</div>
<div id="for-all-attributes-in-one-run-nice-to-know" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> For all attributes in one run (nice to know)<a href="cata-data-check-all-that-apply.html#for-all-attributes-in-one-run-nice-to-know" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We use the packages <em>tidyverse</em> and <em>broom</em> for this, but need a function capable of handling Cochran’s Q-test outputs.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="cata-data-check-all-that-apply.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb97-2"><a href="cata-data-check-all-that-apply.html#cb97-2" aria-hidden="true" tabindex="-1"></a>tidy.RVtest <span class="ot">&lt;-</span> <span class="cf">function</span>(m){</span>
<span id="cb97-3"><a href="cata-data-check-all-that-apply.html#cb97-3" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">statistic =</span> m<span class="sc">$</span>statistic,<span class="at">df =</span> m<span class="sc">$</span>parameter,</span>
<span id="cb97-4"><a href="cata-data-check-all-that-apply.html#cb97-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">p.value=</span> m<span class="sc">$</span>p.value,</span>
<span id="cb97-5"><a href="cata-data-check-all-that-apply.html#cb97-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">method =</span> m<span class="sc">$</span>method.test)</span>
<span id="cb97-6"><a href="cata-data-check-all-that-apply.html#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(r)</span>
<span id="cb97-7"><a href="cata-data-check-all-that-apply.html#cb97-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb97-8"><a href="cata-data-check-all-that-apply.html#cb97-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-9"><a href="cata-data-check-all-that-apply.html#cb97-9" aria-hidden="true" tabindex="-1"></a>tb_cochran <span class="ot">&lt;-</span> beercata <span class="sc">%&gt;%</span> </span>
<span id="cb97-10"><a href="cata-data-check-all-that-apply.html#cb97-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(attrib, val, S_Flowers<span class="sc">:</span>S_Vinous) <span class="sc">%&gt;%</span> </span>
<span id="cb97-11"><a href="cata-data-check-all-that-apply.html#cb97-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(attrib) <span class="sc">%&gt;%</span></span>
<span id="cb97-12"><a href="cata-data-check-all-that-apply.html#cb97-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="fu">cochran.qtest</span>(val <span class="sc">~</span> Beer <span class="sc">|</span> Consumer.ID,</span>
<span id="cb97-13"><a href="cata-data-check-all-that-apply.html#cb97-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">data =</span> .) <span class="sc">%&gt;%</span> tidy)</span>
<span id="cb97-14"><a href="cata-data-check-all-that-apply.html#cb97-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-15"><a href="cata-data-check-all-that-apply.html#cb97-15" aria-hidden="true" tabindex="-1"></a>tb_cochran <span class="sc">%&gt;%</span> </span>
<span id="cb97-16"><a href="cata-data-check-all-that-apply.html#cb97-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(p.value) </span></code></pre></div>
<pre><code>## # A tibble: 27 × 5
## # Groups:   attrib [27]
##    attrib         statistic    df  p.value method          
##    &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;           
##  1 S_Beans            114.      5 7.19e-23 Cochran&#39;s Q test
##  2 S_Caramel          108.      5 1.08e-21 Cochran&#39;s Q test
##  3 S_Flowers           63.3     5 2.58e-12 Cochran&#39;s Q test
##  4 S_Aromatic          45.8     5 9.90e- 9 Cochran&#39;s Q test
##  5 S_Sweet             36.3     5 8.24e- 7 Cochran&#39;s Q test
##  6 S_Warming           35.9     5 1.01e- 6 Cochran&#39;s Q test
##  7 S_Smoked            33.9     5 2.47e- 6 Cochran&#39;s Q test
##  8 S_Liquor            33.9     5 2.55e- 6 Cochran&#39;s Q test
##  9 S_Citrus fruit      29.4     5 1.96e- 5 Cochran&#39;s Q test
## 10 S_Dried fruit       26.0     5 8.81e- 5 Cochran&#39;s Q test
## # … with 17 more rows</code></pre>
<p>Again the table is sorted with the most sigficant at the top, and the least significant at the bottom. This output indicates that <em>S_Beans</em> is the most discriminatory attribute, while <em>S_Pungent</em> is the least.</p>
<p>For the pairwise comparisons, please apply the code for the Tukey test above per attribute.</p>
</div>
</div>
<div id="pca-on-cata-data" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> PCA on CATA data<a href="cata-data-check-all-that-apply.html#pca-on-cata-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For an introduction PCA, please go to the Chapter <a href="introduction-to-pca-and-multivariate-data.html#introduction-to-pca-and-multivariate-data">Introduction to PCA and multivariate data</a> in the first part of the book.</p>
<p>A PCA on the summed CATA counts will reveal the attributes associated with the individual products:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="cata-data-check-all-that-apply.html#cb99-1" aria-hidden="true" tabindex="-1"></a>mdlPCA <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(beercatasum[,<span class="sc">-</span><span class="dv">1</span>], <span class="at">scale. =</span> T)</span>
<span id="cb99-2"><a href="cata-data-check-all-that-apply.html#cb99-2" aria-hidden="true" tabindex="-1"></a>ggbiplot<span class="sc">::</span><span class="fu">ggbiplot</span>(mdlPCA, <span class="at">labels =</span> beercatasum<span class="sc">$</span>Beer)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<p>The figure shows the scores (beers, in black) and loadings (sensory descriptors, dark red) from the PCA’s first two components. These two components describe 45.5% + 27.2% = 72.7% of the total variance in the summed data.</p>
<p>From the positions of the beers it is clear that the beers are similar in three pairs – <em>Brown Ale</em> and <em>Ravnsborg Red</em>, left side of panel: <em>Porse Bock</em> and <em>River Beer</em>, upper right side; <em>NY Lager</em> and <em>Wheat IPA</em>, lower right part of panel. The sensory descriptors <em>S_Beans</em>, <em>Dried fruit</em>, <em>Caramel</em>, <em>Warming</em>, <em>Aromatic</em> etc. are all is associated to the beer <em>Brown ale</em>, while <em>Berries</em>, <em>Herb_Savory</em>, <em>Dessert</em>, <em>Pungent</em> etc. is characteristic for <em>Wheat IPA</em>, and to some degree also <em>NY Lager</em>. <em>Sour</em> and <em>Sparkling</em> are the two descriptors that are most frequently mentioned for <em>River Beer</em> and also <em>Porse Bock</em>.</p>
<p>You can check the analysis by cross checking with the summed CATA table.</p>
<p>Descriptors that are located very close to each other show very similar patterns of response, i.e. they are highly correlated. An example is <em>Caramel</em> and <em>Warming</em>, which do not have same summed scores but the same pattern of high and low across samples.</p>
<p>From the figure we can extract the overall conclusion of similarity and differences among samples, but we need Cochran’s Q to describe which descriptors that can be used to statistically separate the samples, and which samples are different for said descriptor.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-linear-and-mixed-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hedonic-rating-e.g.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/edit/master/10_CATA.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/10_CATA.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
