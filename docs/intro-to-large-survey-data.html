<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Intro to large survey data | Data Analysis in R for Sensory and Consumer Science</title>
  <meta name="description" content="Chapter 10 Intro to large survey data | Data Analysis in R for Sensory and Consumer Science" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Intro to large survey data | Data Analysis in R for Sensory and Consumer Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Intro to large survey data | Data Analysis in R for Sensory and Consumer Science" />
  
  
  

<meta name="author" content="Morten Arendt Rasmussen, Julius Jessen Terp, Mads Rønnow Staffe, Helene C. Reinbach and Bodil H. Allesen-Holm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mst-exercises.html"/>
<link rel="next" href="consumer-segmentation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in R for Consumer Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the book</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-get-started---understanding-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> How to get started - understanding R (and RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#organise-and-save-scripts"><i class="fa fa-check"></i><b>2.1.1</b> Organise and save scripts</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-import-data"><i class="fa fa-check"></i><b>2.2</b> How to import data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#import-data-from-r-package"><i class="fa fa-check"></i><b>2.2.1</b> Import data from R-package</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-a-csv-file"><i class="fa fa-check"></i><b>2.2.2</b> Importing a csv file</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-an-excel-filesheet"><i class="fa fa-check"></i><b>2.2.3</b> Importing an Excel file/sheet</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#clipboard-import"><i class="fa fa-check"></i><b>2.2.4</b> Clipboard import</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#looking-at-the-imported-elements"><i class="fa fa-check"></i><b>2.2.5</b> Looking at the imported elements</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#numbers-and-factors---changing-categorisation"><i class="fa fa-check"></i><b>2.2.6</b> Numbers and factors - changing categorisation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-edit-and-merge-datasets"><i class="fa fa-check"></i><b>2.3</b> How to edit and merge datasets</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#edit-using-tidyverse"><i class="fa fa-check"></i><b>2.3.1</b> Edit using Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-save-the-data"><i class="fa fa-check"></i><b>2.4</b> How to save the data</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-export-data-results-to-excel-and-the-like"><i class="fa fa-check"></i><b>2.5</b> How to export data / results to Excel and the like</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-load-your-rdata"><i class="fa fa-check"></i><b>2.6</b> How to load your RData</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-clear-your-environment"><i class="fa fa-check"></i><b>2.7</b> How to clear your environment</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-r-project"><i class="fa fa-check"></i><b>2.8</b> How to R project</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-create-an-r-project"><i class="fa fa-check"></i><b>2.8.1</b> How to Create an R Project</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>3</b> Libraries</a></li>
<li class="chapter" data-level="4" data-path="plotting-data.html"><a href="plotting-data.html"><i class="fa fa-check"></i><b>4</b> Plotting data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="plotting-data.html"><a href="plotting-data.html#histograms-and-boxplots"><i class="fa fa-check"></i><b>4.1</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="4.2" data-path="plotting-data.html"><a href="plotting-data.html#scatter-plots"><i class="fa fa-check"></i><b>4.2</b> Scatter plots</a></li>
<li class="chapter" data-level="4.3" data-path="plotting-data.html"><a href="plotting-data.html#how-to-export-plots"><i class="fa fa-check"></i><b>4.3</b> How to export plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>5</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#descriptives-for-a-continuous-variable"><i class="fa fa-check"></i><b>5.1</b> Descriptives for a continuous variable</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mean-median"><i class="fa fa-check"></i><b>5.1.1</b> Mean / median</a></li>
<li class="chapter" data-level="5.1.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#variance"><i class="fa fa-check"></i><b>5.1.2</b> Variance</a></li>
<li class="chapter" data-level="5.1.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>5.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="5.1.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#calculations"><i class="fa fa-check"></i><b>5.1.4</b> Calculations</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#distributions-of-count-data"><i class="fa fa-check"></i><b>5.2</b> Distributions of count data</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#aggregate"><i class="fa fa-check"></i><b>5.3</b> Aggregate</a></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#tidyverse"><i class="fa fa-check"></i><b>5.4</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inferential-statistics.html"><a href="inferential-statistics.html"><i class="fa fa-check"></i><b>6</b> Inferential statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#intro"><i class="fa fa-check"></i><b>6.1</b> Intro</a></li>
<li class="chapter" data-level="6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-testing"><i class="fa fa-check"></i><b>6.2</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#power"><i class="fa fa-check"></i><b>6.2.1</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>6.3</b> Confidence intervals</a></li>
<li class="chapter" data-level="6.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#t-test"><i class="fa fa-check"></i><b>6.4</b> T-test</a></li>
<li class="chapter" data-level="6.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#f-test"><i class="fa fa-check"></i><b>6.5</b> F-test</a></li>
<li class="chapter" data-level="6.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>6.6</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#one-way-anova"><i class="fa fa-check"></i><b>6.6.1</b> One-way ANOVA</a></li>
<li class="chapter" data-level="6.6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#two-way-anova"><i class="fa fa-check"></i><b>6.6.2</b> Two-way ANOVA</a></li>
<li class="chapter" data-level="6.6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#post-hoc-test---tukeys-honest-significant-difference"><i class="fa fa-check"></i><b>6.6.3</b> Post hoc test - Tukey’s Honest Significant Difference</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="inferential-statistics.html"><a href="inferential-statistics.html#introduction-to-linear-and-mixed-models"><i class="fa fa-check"></i><b>6.7</b> Introduction to linear and mixed models</a></li>
<li class="chapter" data-level="6.8" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-and-mixed-models"><i class="fa fa-check"></i><b>6.8</b> Normal and Mixed models</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-model"><i class="fa fa-check"></i><b>6.8.1</b> Normal model</a></li>
<li class="chapter" data-level="6.8.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#mixed-model"><i class="fa fa-check"></i><b>6.8.2</b> Mixed model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html"><i class="fa fa-check"></i><b>7</b> Introduction to PCA and multivariate data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#a-bit-of-math"><i class="fa fa-check"></i><b>7.1</b> A bit of math</a></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#interpreting-model-output"><i class="fa fa-check"></i><b>7.2</b> Interpreting model output</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#biplot"><i class="fa fa-check"></i><b>7.2.1</b> Biplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html"><i class="fa fa-check"></i><b>8</b> Buffet and survey data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#buffet-data"><i class="fa fa-check"></i><b>8.1</b> Buffet data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#introduction-to-buffet-data"><i class="fa fa-check"></i><b>8.1.1</b> Introduction to buffet data</a></li>
<li class="chapter" data-level="8.1.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-buffet-data"><i class="fa fa-check"></i><b>8.1.2</b> Plotting buffet data</a></li>
<li class="chapter" data-level="8.1.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#mixed-model-for-buffet-data"><i class="fa fa-check"></i><b>8.1.3</b> Mixed model for buffet data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#survey-data"><i class="fa fa-check"></i><b>8.2</b> Survey data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-survey-data"><i class="fa fa-check"></i><b>8.2.1</b> Plotting survey data</a></li>
<li class="chapter" data-level="8.2.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#linear-model-for-buffet-data"><i class="fa fa-check"></i><b>8.2.2</b> Linear model for buffet data</a></li>
<li class="chapter" data-level="8.2.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#post-hoc-test-for-survey-data"><i class="fa fa-check"></i><b>8.2.3</b> Post-hoc test for survey data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#combining-consumption-and-survey-data"><i class="fa fa-check"></i><b>8.3</b> Combining consumption and survey data</a></li>
<li class="chapter" data-level="8.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#pca-on-survey-answers"><i class="fa fa-check"></i><b>8.4</b> PCA on survey answers</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#wrangle-data"><i class="fa fa-check"></i><b>8.4.1</b> Wrangle data</a></li>
<li class="chapter" data-level="8.4.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#build-the-model"><i class="fa fa-check"></i><b>8.4.2</b> Build the model</a></li>
<li class="chapter" data-level="8.4.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#bi-plot"><i class="fa fa-check"></i><b>8.4.3</b> Bi-plot</a></li>
<li class="chapter" data-level="8.4.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#extract-the-components-and-run-all-associations."><i class="fa fa-check"></i><b>8.4.4</b> Extract the components and run all associations.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mst-exercises.html"><a href="mst-exercises.html"><i class="fa fa-check"></i><b>9</b> MST exercises</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-1"><i class="fa fa-check"></i><b>9.1</b> Exercise 1</a></li>
<li class="chapter" data-level="9.2" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-2"><i class="fa fa-check"></i><b>9.2</b> Exercise 2</a></li>
<li class="chapter" data-level="9.3" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-3"><i class="fa fa-check"></i><b>9.3</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html"><i class="fa fa-check"></i><b>10</b> Intro to large survey data</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#looking-at-the-data-and-checking-formating"><i class="fa fa-check"></i><b>10.0.1</b> Looking at the data and checking formating</a></li>
<li class="chapter" data-level="10.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>10.1</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#numeric-values"><i class="fa fa-check"></i><b>10.1.1</b> Numeric values</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#plots"><i class="fa fa-check"></i><b>10.2</b> Plots</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#within-groups-of-data"><i class="fa fa-check"></i><b>10.2.1</b> Within groups of data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#categorical-ordinal-variables"><i class="fa fa-check"></i><b>10.3</b> Categorical / Ordinal variables</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#tables"><i class="fa fa-check"></i><b>10.3.1</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#table-1"><i class="fa fa-check"></i><b>10.4</b> Table 1</a></li>
<li class="chapter" data-level="10.5" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#the-tidyverse-way"><i class="fa fa-check"></i><b>10.5</b> The tidyverse way</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html"><i class="fa fa-check"></i><b>11</b> Consumer segmentation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation"><i class="fa fa-check"></i><b>11.1</b> Segmentation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#using-k-means-for-clustering"><i class="fa fa-check"></i><b>11.1.1</b> Using K-means for clustering</a></li>
<li class="chapter" data-level="11.1.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#initial-characterization-of-clusters"><i class="fa fa-check"></i><b>11.1.2</b> Initial characterization of clusters</a></li>
<li class="chapter" data-level="11.1.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#vizualization-of-the-clusters"><i class="fa fa-check"></i><b>11.1.3</b> Vizualization of the clusters</a></li>
<li class="chapter" data-level="11.1.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#sums-of-squares-from-the-clustering"><i class="fa fa-check"></i><b>11.1.4</b> Sums of Squares from the clustering</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#selecting-the-number-of-clusters---a-data-driven-approach"><i class="fa fa-check"></i><b>11.2</b> Selecting the number of clusters - a data-driven approach</a></li>
<li class="chapter" data-level="11.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation---another-example"><i class="fa fa-check"></i><b>11.3</b> Segmentation - another example</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#cluster-analysis"><i class="fa fa-check"></i><b>11.3.1</b> Cluster analysis</a></li>
<li class="chapter" data-level="11.3.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#plot-the-model-using-pca"><i class="fa fa-check"></i><b>11.3.2</b> Plot the model using PCA</a></li>
<li class="chapter" data-level="11.3.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#add-to-dataset"><i class="fa fa-check"></i><b>11.3.3</b> Add to dataset</a></li>
<li class="chapter" data-level="11.3.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#comments"><i class="fa fa-check"></i><b>11.3.4</b> Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="profiling-segments.html"><a href="profiling-segments.html"><i class="fa fa-check"></i><b>12</b> Profiling segments</a>
<ul>
<li class="chapter" data-level="12.1" data-path="profiling-segments.html"><a href="profiling-segments.html#table-1-as-a-profiling-tool"><i class="fa fa-check"></i><b>12.1</b> Table 1 as a profiling tool</a></li>
<li class="chapter" data-level="12.2" data-path="profiling-segments.html"><a href="profiling-segments.html#visualization-of-consumer-segments"><i class="fa fa-check"></i><b>12.2</b> Visualization of Consumer Segments</a></li>
<li class="chapter" data-level="12.3" data-path="profiling-segments.html"><a href="profiling-segments.html#creating-the-contingency-table"><i class="fa fa-check"></i><b>12.3</b> Creating the contingency table</a></li>
<li class="chapter" data-level="12.4" data-path="profiling-segments.html"><a href="profiling-segments.html#plot-the-numbers"><i class="fa fa-check"></i><b>12.4</b> Plot the numbers</a></li>
<li class="chapter" data-level="12.5" data-path="profiling-segments.html"><a href="profiling-segments.html#contingency-table"><i class="fa fa-check"></i><b>12.5</b> Contingency table</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="profiling-segments.html"><a href="profiling-segments.html#pearson-chi-square-test"><i class="fa fa-check"></i><b>12.5.1</b> Pearson Chi-square test</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="profiling-segments.html"><a href="profiling-segments.html#correspondence-analysis"><i class="fa fa-check"></i><b>12.6</b> Correspondence Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression.html"><a href="logistic-regression.html#segmentationclustering"><i class="fa fa-check"></i><b>13.1</b> Segmentation/Clustering</a></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression.html"><a href="logistic-regression.html#fitting-the-logistic-regression-model"><i class="fa fa-check"></i><b>13.2</b> Fitting the logistic regression-model</a></li>
<li class="chapter" data-level="13.3" data-path="logistic-regression.html"><a href="logistic-regression.html#probabilities-of-segment-membership"><i class="fa fa-check"></i><b>13.3</b> Probabilities of segment membership:</a></li>
<li class="chapter" data-level="13.4" data-path="logistic-regression.html"><a href="logistic-regression.html#odds-ratios"><i class="fa fa-check"></i><b>13.4</b> Odds ratios</a></li>
<li class="chapter" data-level="13.5" data-path="logistic-regression.html"><a href="logistic-regression.html#ors-and-probs"><i class="fa fa-check"></i><b>13.5</b> ORs and Probs</a></li>
<li class="chapter" data-level="13.6" data-path="logistic-regression.html"><a href="logistic-regression.html#effect-of-age"><i class="fa fa-check"></i><b>13.6</b> Effect of Age</a></li>
<li class="chapter" data-level="13.7" data-path="logistic-regression.html"><a href="logistic-regression.html#multivariate-analysis"><i class="fa fa-check"></i><b>13.7</b> Multivariate analysis</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="logistic-regression.html"><a href="logistic-regression.html#descriptives"><i class="fa fa-check"></i><b>13.7.1</b> Descriptives</a></li>
<li class="chapter" data-level="13.7.2" data-path="logistic-regression.html"><a href="logistic-regression.html#two-nested-models"><i class="fa fa-check"></i><b>13.7.2</b> Two nested models</a></li>
<li class="chapter" data-level="13.7.3" data-path="logistic-regression.html"><a href="logistic-regression.html#coefficients"><i class="fa fa-check"></i><b>13.7.3</b> Coefficients</a></li>
<li class="chapter" data-level="13.7.4" data-path="logistic-regression.html"><a href="logistic-regression.html#re-level"><i class="fa fa-check"></i><b>13.7.4</b> Re-level</a></li>
<li class="chapter" data-level="13.7.5" data-path="logistic-regression.html"><a href="logistic-regression.html#all-pairwise-comparisons"><i class="fa fa-check"></i><b>13.7.5</b> All pairwise comparisons</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="logistic-regression.html"><a href="logistic-regression.html#segment-2-and-3"><i class="fa fa-check"></i><b>13.8</b> Segment 2 and 3</a></li>
<li class="chapter" data-level="13.9" data-path="logistic-regression.html"><a href="logistic-regression.html#a-new-set-of-data"><i class="fa fa-check"></i><b>13.9</b> A new set of data</a></li>
<li class="chapter" data-level="13.10" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-for-demographic-characterization"><i class="fa fa-check"></i><b>13.10</b> Logistic regression for demographic characterization</a>
<ul>
<li class="chapter" data-level="13.10.1" data-path="logistic-regression.html"><a href="logistic-regression.html#age"><i class="fa fa-check"></i><b>13.10.1</b> Age</a></li>
<li class="chapter" data-level="13.10.2" data-path="logistic-regression.html"><a href="logistic-regression.html#gender"><i class="fa fa-check"></i><b>13.10.2</b> Gender</a></li>
</ul></li>
<li class="chapter" data-level="13.11" data-path="logistic-regression.html"><a href="logistic-regression.html#task"><i class="fa fa-check"></i><b>13.11</b> TASK</a></li>
<li class="chapter" data-level="13.12" data-path="logistic-regression.html"><a href="logistic-regression.html#the-tidyverse-way-1"><i class="fa fa-check"></i><b>13.12</b> The tidyverse way</a></li>
<li class="chapter" data-level="13.13" data-path="logistic-regression.html"><a href="logistic-regression.html#comment"><i class="fa fa-check"></i><b>13.13</b> Comment</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html"><i class="fa fa-check"></i><b>14</b> CATA data (Check-All-That-Apply)</a>
<ul>
<li class="chapter" data-level="14.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#importing-and-looking-at-the-beer-data"><i class="fa fa-check"></i><b>14.1</b> Importing and looking at the beer data</a></li>
<li class="chapter" data-level="14.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#two-versions-of-the-data"><i class="fa fa-check"></i><b>14.2</b> Two versions of the data</a></li>
<li class="chapter" data-level="14.3" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#cochrans-q-test"><i class="fa fa-check"></i><b>14.3</b> Cochran’s Q test</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#post-hoc-test"><i class="fa fa-check"></i><b>14.3.1</b> Post hoc test</a></li>
<li class="chapter" data-level="14.3.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#for-all-attributes-in-one-run-nice-to-know"><i class="fa fa-check"></i><b>14.3.2</b> For all attributes in one run (nice to know)</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#pca-on-cata-data"><i class="fa fa-check"></i><b>14.4</b> PCA on CATA data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html"><i class="fa fa-check"></i><b>15</b> Hedonic rating (e.g. liking scores)</a>
<ul>
<li class="chapter" data-level="15.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#plotting-liking-scores"><i class="fa fa-check"></i><b>15.1</b> Plotting liking scores</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#pca-of-hedonic-ratings"><i class="fa fa-check"></i><b>15.1.1</b> PCA of hedonic ratings</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#simple-mixed-models"><i class="fa fa-check"></i><b>15.2</b> Simple mixed models</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#post-hoc-test-1"><i class="fa fa-check"></i><b>15.2.1</b> Post hoc test</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#multivariable-models"><i class="fa fa-check"></i><b>15.3</b> Multivariable models</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#additive-models"><i class="fa fa-check"></i><b>15.3.1</b> Additive models</a></li>
<li class="chapter" data-level="15.3.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#effect-modification-and-interactions"><i class="fa fa-check"></i><b>15.3.2</b> Effect modification and Interactions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html"><i class="fa fa-check"></i><b>16</b> CATA and Hedonics</a>
<ul>
<li class="chapter" data-level="16.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#individual-attributes-and-liking"><i class="fa fa-check"></i><b>16.1</b> Individual attributes and liking</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#an-example-with-refreshing"><i class="fa fa-check"></i><b>16.1.1</b> An example with Refreshing</a></li>
<li class="chapter" data-level="16.1.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#all-attributes"><i class="fa fa-check"></i><b>16.1.2</b> All attributes</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pca-on-cata-and-liking"><i class="fa fa-check"></i><b>16.2</b> PCA on CATA and Liking</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#a-beer-centric-model"><i class="fa fa-check"></i><b>16.2.1</b> A beer centric model</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#analysis-by-pls"><i class="fa fa-check"></i><b>16.3</b> Analysis by PLS</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pls-basics"><i class="fa fa-check"></i><b>16.3.1</b> PLS basics</a></li>
<li class="chapter" data-level="16.3.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pls-to-predict-liking-based-on-cata-data"><i class="fa fa-check"></i><b>16.3.2</b> PLS to predict liking based on CATA data</a></li>
<li class="chapter" data-level="16.3.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#regression-coefficients"><i class="fa fa-check"></i><b>16.3.3</b> Regression coefficients</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#l-pls"><i class="fa fa-check"></i><b>16.4</b> L-PLS</a></li>
<li class="chapter" data-level="16.5" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#creating-x1-x2-x3."><i class="fa fa-check"></i><b>16.5</b> Creating X1, X2, X3.</a></li>
<li class="chapter" data-level="16.6" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#building-the-model-the-l-pls-model-can-be-built-using-the-lpls"><i class="fa fa-check"></i><b>16.6</b> Building the model: The L-PLS model can be built, using the <em>lpls</em></a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#finding-the-explained-variance-for-exo-l-pls"><i class="fa fa-check"></i><b>16.6.1</b> Finding the explained variance for exo L-PLS</a></li>
<li class="chapter" data-level="16.6.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#cross-validation-next-let-us-have-a-look-how-many-components-we"><i class="fa fa-check"></i><b>16.6.2</b> Cross-validation Next let us have a look how many components we</a></li>
<li class="chapter" data-level="16.6.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#vizulization-now-we-would-like-to-visuzlalize-our-l-pls-model.-when"><i class="fa fa-check"></i><b>16.6.3</b> Vizulization Now we would like to visuzlalize our L-PLS model. When</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="projective-mapping.html"><a href="projective-mapping.html"><i class="fa fa-check"></i><b>17</b> Projective mapping</a>
<ul>
<li class="chapter" data-level="17.1" data-path="projective-mapping.html"><a href="projective-mapping.html#example-from-mapping-of-xx"><i class="fa fa-check"></i><b>17.1</b> Example from mapping of XX</a></li>
<li class="chapter" data-level="17.2" data-path="projective-mapping.html"><a href="projective-mapping.html#a-collated-version-of-the-data"><i class="fa fa-check"></i><b>17.2</b> A Collated version of the data</a></li>
<li class="chapter" data-level="17.3" data-path="projective-mapping.html"><a href="projective-mapping.html#pca-on-collated-data"><i class="fa fa-check"></i><b>17.3</b> PCA on Collated data</a></li>
<li class="chapter" data-level="17.4" data-path="projective-mapping.html"><a href="projective-mapping.html#section"><i class="fa fa-check"></i><b>17.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="tfih-exercises.html"><a href="tfih-exercises.html"><i class="fa fa-check"></i><b>18</b> TFIH Exercises</a>
<ul>
<li class="chapter" data-level="18.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-1-descriptive-statistics-and-plots"><i class="fa fa-check"></i><b>18.1</b> Exercise 1: Descriptive statistics and plots</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#cata-counts"><i class="fa fa-check"></i><b>18.1.1</b> CATA counts</a></li>
<li class="chapter" data-level="18.1.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#hedonics"><i class="fa fa-check"></i><b>18.1.2</b> Hedonics</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-2-consumer-background-and-pca"><i class="fa fa-check"></i><b>18.2</b> Exercise 2: Consumer background and PCA</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#demographics"><i class="fa fa-check"></i><b>18.2.1</b> Demographics</a></li>
<li class="chapter" data-level="18.2.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-interests"><i class="fa fa-check"></i><b>18.2.2</b> PCA on <em>Interests</em></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-3-pca-on-cata-counts"><i class="fa fa-check"></i><b>18.3</b> Exercise 3: PCA on CATA counts</a></li>
<li class="chapter" data-level="18.4" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-4-cochrans-q-test-on-cata-binary-data"><i class="fa fa-check"></i><b>18.4</b> Exercise 4: Cochran’s Q test on CATA binary data</a></li>
<li class="chapter" data-level="18.5" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-5-hedonic-ratings-and-consumer-characteristics"><i class="fa fa-check"></i><b>18.5</b> Exercise 5: Hedonic ratings and consumer characteristics</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-joint-data"><i class="fa fa-check"></i><b>18.5.1</b> PCA on joint data</a></li>
<li class="chapter" data-level="18.5.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#all-demographics"><i class="fa fa-check"></i><b>18.5.2</b> All demographics</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-6-pca-on-cata-counts-and-hedonic-ratings"><i class="fa fa-check"></i><b>18.6</b> Exercise 6: PCA on CATA counts and hedonic ratings</a></li>
<li class="chapter" data-level="18.7" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-7-mixed-modelling-on-hedonic-ratings"><i class="fa fa-check"></i><b>18.7</b> Exercise 7: Mixed modelling on hedonic ratings</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="chapters-to-appear.html"><a href="chapters-to-appear.html"><i class="fa fa-check"></i><b>19</b> CHAPTERS to APPEAR</a></li>
<li class="chapter" data-level="20" data-path="latent-factor-models.html"><a href="latent-factor-models.html"><i class="fa fa-check"></i><b>20</b> Latent Factor Models</a></li>
<li class="chapter" data-level="21" data-path="lpls.html"><a href="lpls.html"><i class="fa fa-check"></i><b>21</b> LPLS</a></li>
<li class="chapter" data-level="22" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html"><i class="fa fa-check"></i><b>22</b> Confirmatory Factor Analysis using lavaan</a>
<ul>
<li class="chapter" data-level="22.1" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html#example---food-neophobia"><i class="fa fa-check"></i><b>22.1</b> Example - Food Neophobia</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html"><i class="fa fa-check"></i><b>23</b> Structured Equation Modelling</a>
<ul>
<li class="chapter" data-level="23.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#example---theory-of-planned-behaviour"><i class="fa fa-check"></i><b>23.1</b> Example - Theory of Planned Behaviour</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="plsda-on-cata-and-liking.html"><a href="plsda-on-cata-and-liking.html"><i class="fa fa-check"></i><b>24</b> PLSDA on CATA and liking</a></li>
<li class="chapter" data-level="25" data-path="text-mining-of-comsumer-reviews.html"><a href="text-mining-of-comsumer-reviews.html"><i class="fa fa-check"></i><b>25</b> Text mining of comsumer reviews</a></li>
<li class="chapter" data-level="26" data-path="text-mining-of-open-ended-survey-responses.html"><a href="text-mining-of-open-ended-survey-responses.html"><i class="fa fa-check"></i><b>26</b> Text mining of open-ended survey responses</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in R for Sensory and Consumer Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-to-large-survey-data" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Chapter 10</span> Intro to large survey data<a href="intro-to-large-survey-data.html#intro-to-large-survey-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The data used in this chapter are based on surveys conducted during earlier iterations of the courses <em>Food Consumer Research and Meal Consumer Research</em>.</p>
<p>Large survey data can be collected using SurveyXact.
There are tools (packages for R) which can import SurveyXact outputs directly, while we do not go through these here, googl’ing a bit may be helpful.
Alternatively, the SurveyXact files can be exported to .xlsx files and imported as indicated in <a href="introduction-to-r.html#how-to-import-data">How to import data</a>.</p>
<p>Here we have included the data in the data4consumerscience package ready for use.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="intro-to-large-survey-data.html#cb120-1" tabindex="-1"></a><span class="fu">library</span>(data4consumerscience)</span>
<span id="cb120-2"><a href="intro-to-large-survey-data.html#cb120-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fmcrsurvey&quot;</span>)</span></code></pre></div>
<div id="looking-at-the-data-and-checking-formating" class="section level3 hasAnchor" number="10.0.1">
<h3><span class="header-section-number">10.0.1</span> Looking at the data and checking formating<a href="intro-to-large-survey-data.html#looking-at-the-data-and-checking-formating" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The functions <strong>head()</strong>, <strong>View()</strong>, and <strong>str()</strong> can be used to get an overview of formating. See <a href="introduction-to-r.html#looking-at-the-imported-elements">Looking at the imported elements</a> for details.</p>
<p>A fair bunch of the variables are characters (chr) because they are recorded as levels on a likert-scale. However, you may want to also have those as numeric values from <span class="math inline">\(1\)</span> to <span class="math inline">\(5\)</span> or <span class="math inline">\(7\)</span>. The code below does the job.</p>
<p>The key thing to note here is that if the factor levels are <em>not</em> specified, then they will be ordered according to the alphabet.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="intro-to-large-survey-data.html#cb121-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb121-2"><a href="intro-to-large-survey-data.html#cb121-2" tabindex="-1"></a><span class="co"># The coloumns in the dataset which are 7 point likert-scales</span></span>
<span id="cb121-3"><a href="intro-to-large-survey-data.html#cb121-3" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(fmcrsurvey)[<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb121-4"><a href="intro-to-large-survey-data.html#cb121-4" tabindex="-1"></a><span class="co"># Use the mutate_at() function to make the variables into factors, and setting the levels in the right order.</span></span>
<span id="cb121-5"><a href="intro-to-large-survey-data.html#cb121-5" tabindex="-1"></a>fmcrsurvey <span class="ot">&lt;-</span> fmcrsurvey <span class="sc">%&gt;%</span> </span>
<span id="cb121-6"><a href="intro-to-large-survey-data.html#cb121-6" tabindex="-1"></a>  <span class="fu">mutate_at</span>(cols, <span class="fu">funs</span>(<span class="fu">factor</span>(.,<span class="at">ordered =</span> T, </span>
<span id="cb121-7"><a href="intro-to-large-survey-data.html#cb121-7" tabindex="-1"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;Disagree extremely&#39;</span>,</span>
<span id="cb121-8"><a href="intro-to-large-survey-data.html#cb121-8" tabindex="-1"></a>                                         <span class="st">&#39;Disagree&#39;</span>,</span>
<span id="cb121-9"><a href="intro-to-large-survey-data.html#cb121-9" tabindex="-1"></a>                                         <span class="st">&#39;Disagree slightly&#39;</span>,</span>
<span id="cb121-10"><a href="intro-to-large-survey-data.html#cb121-10" tabindex="-1"></a>                                         <span class="st">&#39;Neutral&#39;</span>,</span>
<span id="cb121-11"><a href="intro-to-large-survey-data.html#cb121-11" tabindex="-1"></a>                                         <span class="st">&#39;Agree slightly&#39;</span>,</span>
<span id="cb121-12"><a href="intro-to-large-survey-data.html#cb121-12" tabindex="-1"></a>                                         <span class="st">&#39;Agree&#39;</span>,</span>
<span id="cb121-13"><a href="intro-to-large-survey-data.html#cb121-13" tabindex="-1"></a>                                         <span class="st">&#39;Agree extremely&#39;</span>))))</span>
<span id="cb121-14"><a href="intro-to-large-survey-data.html#cb121-14" tabindex="-1"></a></span>
<span id="cb121-15"><a href="intro-to-large-survey-data.html#cb121-15" tabindex="-1"></a><span class="co"># The coloumns in the dataset which are 5 point likert-scales</span></span>
<span id="cb121-16"><a href="intro-to-large-survey-data.html#cb121-16" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(fmcrsurvey)[<span class="dv">11</span><span class="sc">:</span><span class="dv">17</span>]</span>
<span id="cb121-17"><a href="intro-to-large-survey-data.html#cb121-17" tabindex="-1"></a>fmcrsurvey <span class="ot">&lt;-</span> fmcrsurvey <span class="sc">%&gt;%</span> </span>
<span id="cb121-18"><a href="intro-to-large-survey-data.html#cb121-18" tabindex="-1"></a>  <span class="fu">mutate_at</span>(cols, <span class="fu">funs</span>(<span class="fu">factor</span>(.,<span class="at">ordered =</span> T, </span>
<span id="cb121-19"><a href="intro-to-large-survey-data.html#cb121-19" tabindex="-1"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;Completely disagree&#39;</span>,</span>
<span id="cb121-20"><a href="intro-to-large-survey-data.html#cb121-20" tabindex="-1"></a>                                         <span class="st">&#39;Disagree&#39;</span>,</span>
<span id="cb121-21"><a href="intro-to-large-survey-data.html#cb121-21" tabindex="-1"></a>                                         <span class="st">&#39;Neither disagree nor agree&#39;</span>,</span>
<span id="cb121-22"><a href="intro-to-large-survey-data.html#cb121-22" tabindex="-1"></a>                                         <span class="st">&#39;Agree&#39;</span>,</span>
<span id="cb121-23"><a href="intro-to-large-survey-data.html#cb121-23" tabindex="-1"></a>                                         <span class="st">&#39;Completely agree&#39;</span>))))</span>
<span id="cb121-24"><a href="intro-to-large-survey-data.html#cb121-24" tabindex="-1"></a></span>
<span id="cb121-25"><a href="intro-to-large-survey-data.html#cb121-25" tabindex="-1"></a><span class="co"># Other coloumns which are naturally ordered</span></span>
<span id="cb121-26"><a href="intro-to-large-survey-data.html#cb121-26" tabindex="-1"></a>fmcrsurvey<span class="sc">$</span>Freq_Groceries <span class="ot">&lt;-</span> <span class="fu">factor</span>(fmcrsurvey<span class="sc">$</span>Freq_Groceries, <span class="at">ordered =</span> T, </span>
<span id="cb121-27"><a href="intro-to-large-survey-data.html#cb121-27" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;1-3 times per month&#39;</span>,<span class="st">&quot;Once a week&quot;</span>,<span class="st">&quot;6-2 times per week&quot;</span>,<span class="st">&quot;Every day&quot;</span>))</span>
<span id="cb121-28"><a href="intro-to-large-survey-data.html#cb121-28" tabindex="-1"></a></span>
<span id="cb121-29"><a href="intro-to-large-survey-data.html#cb121-29" tabindex="-1"></a></span>
<span id="cb121-30"><a href="intro-to-large-survey-data.html#cb121-30" tabindex="-1"></a>fmcrsurvey<span class="sc">$</span>Pay_large_water_melon <span class="ot">&lt;-</span> <span class="fu">factor</span>(fmcrsurvey<span class="sc">$</span>Pay_large_water_melon,<span class="at">ordered =</span> T, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;0-10 DKK&#39;</span>,<span class="st">&#39;10-20 DKK&#39;</span>,<span class="st">&#39;20-30 DKK&#39;</span>,<span class="st">&#39;30-40 DKK&#39;</span>,<span class="st">&#39;40 DKK and above&#39;</span>))</span></code></pre></div>
</div>
<div id="descriptive-statistics-1" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Descriptive statistics<a href="intro-to-large-survey-data.html#descriptive-statistics-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For reporting the results of a survey it is important to characterize the cohort/population who were used. This, inorder for others to be able to generalize the results. I.e. will certain insights obtained for a group of mostly young females also apply for the general population etc. For this descriptive statistics is used. For more general details see <a href="descriptive-statistics.html#descriptive-statistics">Descriptive statistics</a></p>
<p>In the dataset we have asked for the Age, height, Weight, Gender, WhereGroceries and DietaryPreferences of the consumers. There are different ways to analyse thease background variables depending on the nature of the data.</p>
<div id="numeric-values" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Numeric values<a href="intro-to-large-survey-data.html#numeric-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As an example we have <em>Age</em>. It is a numeric variable, and also continuous.</p>
<p>We want to calculate mean, median, standard deviation and IQR</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="intro-to-large-survey-data.html#cb122-1" tabindex="-1"></a><span class="fu">mean</span>(fmcrsurvey<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] 26.85283</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="intro-to-large-survey-data.html#cb124-1" tabindex="-1"></a><span class="fu">sd</span>(fmcrsurvey<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] 5.247388</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="intro-to-large-survey-data.html#cb126-1" tabindex="-1"></a><span class="fu">median</span>(fmcrsurvey<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] 26</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="intro-to-large-survey-data.html#cb128-1" tabindex="-1"></a><span class="fu">IQR</span>(fmcrsurvey<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>… or simply use the summary() function, to get all the above answers in one go:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="intro-to-large-survey-data.html#cb130-1" tabindex="-1"></a><span class="fu">summary</span>(fmcrsurvey<span class="sc">$</span>Age)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   20.00   24.00   26.00   26.85   28.00   57.00</code></pre>
<p>Use the above mention codes for all continuous variables.</p>
</div>
</div>
<div id="plots" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Plots<a href="intro-to-large-survey-data.html#plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is a good idea to plot data. This is a natural first step to look for distributions and find odd behaving samples / miss-registrations.</p>
<p>Below are some relevant examples. To see more, go to <a href="plotting-data.html#plotting-data">Plotting data</a>.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="intro-to-large-survey-data.html#cb132-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Age, <span class="at">fill =</span> Gender)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">position =</span> <span class="st">&#39;dodge&#39;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-99-1.png" width="672" /></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="intro-to-large-survey-data.html#cb133-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(<span class="at">x=</span> <span class="dv">1</span>, Age)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-99-2.png" width="672" /></p>
<div id="within-groups-of-data" class="section level3 hasAnchor" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> Within groups of data<a href="intro-to-large-survey-data.html#within-groups-of-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The flat calculations - across the entire dataset as a single group, is seldom very informative. We usually want to compare numbers between different groups.</p>
<p>As an example we use <em>How much you would pay for a banana</em> in reference to the gender:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="intro-to-large-survey-data.html#cb134-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Gender, Pay_organic_banana)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
<p>… If you want to cross with several variables (Try to evaluate the code your self):</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="intro-to-large-survey-data.html#cb135-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Gender, Pay_organic_banana, <span class="at">fill =</span> DietaryPreferences)) <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">fill=</span><span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Diet&quot;</span>)) <span class="sc">+</span></span>
<span id="cb135-2"><a href="intro-to-large-survey-data.html#cb135-2" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span></code></pre></div>
<p>Another useful function is the <strong>aggregate</strong>-function, which can be used to apply a function (e.g., taking the mean) according to a specified condition. In the below example, the sex of the participants is used. The function then groups rows with the same sex, and calculates the mean for each group.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="intro-to-large-survey-data.html#cb136-1" tabindex="-1"></a><span class="fu">aggregate</span>(fmcrsurvey<span class="sc">$</span>Pay_organic_banana, </span>
<span id="cb136-2"><a href="intro-to-large-survey-data.html#cb136-2" tabindex="-1"></a>          <span class="at">by =</span> <span class="fu">list</span>(fmcrsurvey<span class="sc">$</span>Gender), mean)</span></code></pre></div>
<pre><code>##   Group.1        x
## 1  Female 5.102679
## 2    Male 5.603659</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="intro-to-large-survey-data.html#cb138-1" tabindex="-1"></a><span class="fu">aggregate</span>(fmcrsurvey<span class="sc">$</span>Pay_organic_banana, </span>
<span id="cb138-2"><a href="intro-to-large-survey-data.html#cb138-2" tabindex="-1"></a>          <span class="at">by =</span> <span class="fu">list</span>(fmcrsurvey<span class="sc">$</span>Gender), sd)</span></code></pre></div>
<pre><code>##   Group.1        x
## 1  Female 4.633490
## 2    Male 5.977294</code></pre>
<p>Try to do these for some of the other variables.</p>
</div>
</div>
<div id="categorical-ordinal-variables" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Categorical / Ordinal variables<a href="intro-to-large-survey-data.html#categorical-ordinal-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below are some examples of plots that work well when you work with categorical data. For more info on plotting, see <a href="plotting-data.html#plotting-data">Plotting data</a>.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="intro-to-large-survey-data.html#cb140-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Gender)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="intro-to-large-survey-data.html#cb141-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Gender, <span class="at">fill =</span> Freq_Groceries)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-103-2.png" width="672" /></p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="intro-to-large-survey-data.html#cb142-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fmcrsurvey, <span class="fu">aes</span>(Gender, <span class="at">fill =</span> Freq_Groceries)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&#39;dodge&#39;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-103-3.png" width="672" /></p>
<div id="tables" class="section level3 hasAnchor" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Tables<a href="intro-to-large-survey-data.html#tables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>table()</strong> and <strong>prop.table()</strong> functions are your friends, as they help you get to know you data better. Try and see what the different inputs give as resulting output, and see what happens if you change variables.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="intro-to-large-survey-data.html#cb143-1" tabindex="-1"></a><span class="fu">table</span>(fmcrsurvey<span class="sc">$</span>Gender)</span></code></pre></div>
<pre><code>## 
## Female   Male 
##    224     41</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="intro-to-large-survey-data.html#cb145-1" tabindex="-1"></a><span class="fu">table</span>(fmcrsurvey<span class="sc">$</span>Gender, fmcrsurvey<span class="sc">$</span>Freq_Groceries)</span></code></pre></div>
<pre><code>##         
##          1-3 times per month Once a week 6-2 times per week Every day
##   Female                   7          47                160        10
##   Male                     1           5                 34         1</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="intro-to-large-survey-data.html#cb147-1" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(fmcrsurvey<span class="sc">$</span>Gender, fmcrsurvey<span class="sc">$</span>Freq_Groceries), <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##         
##          1-3 times per month Once a week 6-2 times per week  Every day
##   Female          0.03125000  0.20982143         0.71428571 0.04464286
##   Male            0.02439024  0.12195122         0.82926829 0.02439024</code></pre>
</div>
</div>
<div id="table-1" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> Table 1<a href="intro-to-large-survey-data.html#table-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are some nice packages in R which can do the job for you in terms of organizing tables. An especially nice one is the one called <strong>tableone</strong>, which will help create tables almost ready for publication, if given the right inputs. Below are some examples of how the package could be used, using the same dataset as the rest of the chapter.</p>
<p>Here is how to install the package:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="intro-to-large-survey-data.html#cb149-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;tableone&#39;</span>)</span></code></pre></div>
<p>Below is one way of using tableone, which will give information about the amount of participants in each group.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="intro-to-large-survey-data.html#cb150-1" tabindex="-1"></a><span class="fu">library</span>(tableone)</span>
<span id="cb150-2"><a href="intro-to-large-survey-data.html#cb150-2" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> fmcrsurvey, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">&#39;Gender&#39;</span>,<span class="st">&#39;Age&#39;</span>, <span class="st">&#39;Freq_Groceries&#39;</span>,<span class="st">&#39;I_am_able_to_prepare_a_soup&#39;</span>))</span></code></pre></div>
<pre><code>##                                  
##                                   Overall      
##   n                                 265        
##   Gender = Male (%)                  41 (15.5) 
##   Age (mean (SD))                 26.85 (5.25) 
##   Freq_Groceries (%)                           
##      1-3 times per month              8 ( 3.0) 
##      Once a week                     52 (19.6) 
##      6-2 times per week             194 (73.2) 
##      Every day                       11 ( 4.2) 
##   I_am_able_to_prepare_a_soup (%)              
##      Completely disagree              4 ( 1.5) 
##      Disagree                         5 ( 1.9) 
##      Neither disagree nor agree       5 ( 1.9) 
##      Agree                           56 (21.1) 
##      Completely agree               195 (73.6)</code></pre>
<p>… below if split into groups:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="intro-to-large-survey-data.html#cb152-1" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> fmcrsurvey, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">&#39;Age&#39;</span>, <span class="st">&#39;Freq_Groceries&#39;</span>,<span class="st">&#39;I_am_able_to_prepare_a_soup&#39;</span>), </span>
<span id="cb152-2"><a href="intro-to-large-survey-data.html#cb152-2" tabindex="-1"></a>               <span class="at">strata =</span> <span class="fu">c</span>(<span class="st">&#39;Gender&#39;</span>,<span class="st">&#39;Freq_Groceries&#39;</span>))</span></code></pre></div>
<pre><code>##                                  Stratified by Gender:Freq_Groceries
##                                   Female:1-3 times per month Male:1-3 times per month
##   n                                   7                          1                   
##   Age (mean (SD))                 27.57 (2.07)               23.00 (NA)              
##   Freq_Groceries (%)                                                                 
##      1-3 times per month              7 (100.0)                  1 (100.0)           
##      Once a week                      0 (  0.0)                  0 (  0.0)           
##      6-2 times per week               0 (  0.0)                  0 (  0.0)           
##      Every day                        0 (  0.0)                  0 (  0.0)           
##   I_am_able_to_prepare_a_soup (%)                                                    
##      Completely disagree              0 (  0.0)                  0 (  0.0)           
##      Disagree                         0 (  0.0)                  0 (  0.0)           
##      Neither disagree nor agree       0 (  0.0)                  0 (  0.0)           
##      Agree                            0 (  0.0)                  0 (  0.0)           
##      Completely agree                 7 (100.0)                  1 (100.0)           
##                                  Stratified by Gender:Freq_Groceries
##                                   Female:Once a week Male:Once a week
##   n                                  47                  5           
##   Age (mean (SD))                 26.09 (4.39)       27.40 (2.19)    
##   Freq_Groceries (%)                                                 
##      1-3 times per month              0 (  0.0)          0 (  0.0)   
##      Once a week                     47 (100.0)          5 (100.0)   
##      6-2 times per week               0 (  0.0)          0 (  0.0)   
##      Every day                        0 (  0.0)          0 (  0.0)   
##   I_am_able_to_prepare_a_soup (%)                                    
##      Completely disagree              0 (  0.0)          0 (  0.0)   
##      Disagree                         2 (  4.3)          0 (  0.0)   
##      Neither disagree nor agree       0 (  0.0)          0 (  0.0)   
##      Agree                           15 ( 31.9)          0 (  0.0)   
##      Completely agree                30 ( 63.8)          5 (100.0)   
##                                  Stratified by Gender:Freq_Groceries
##                                   Female:6-2 times per week Male:6-2 times per week
##   n                                 160                        34                  
##   Age (mean (SD))                 26.80 (5.48)              26.65 (2.87)           
##   Freq_Groceries (%)                                                               
##      1-3 times per month              0 (  0.0)                 0 (  0.0)          
##      Once a week                      0 (  0.0)                 0 (  0.0)          
##      6-2 times per week             160 (100.0)                34 (100.0)          
##      Every day                        0 (  0.0)                 0 (  0.0)          
##   I_am_able_to_prepare_a_soup (%)                                                  
##      Completely disagree              3 (  1.9)                 1 (  2.9)          
##      Disagree                         2 (  1.2)                 1 (  2.9)          
##      Neither disagree nor agree       4 (  2.5)                 1 (  2.9)          
##      Agree                           29 ( 18.1)                11 ( 32.4)          
##      Completely agree               122 ( 76.2)                20 ( 58.8)          
##                                  Stratified by Gender:Freq_Groceries
##                                   Female:Every day Male:Every day p      test
##   n                                  10                1                     
##   Age (mean (SD))                 28.80 (6.78)     55.00 (NA)      NA        
##   Freq_Groceries (%)                                              &lt;0.001     
##      1-3 times per month              0 (  0.0)        0 (  0.0)             
##      Once a week                      0 (  0.0)        0 (  0.0)             
##      6-2 times per week               0 (  0.0)        0 (  0.0)             
##      Every day                       10 (100.0)        1 (100.0)             
##   I_am_able_to_prepare_a_soup (%)                                  0.697     
##      Completely disagree              0 (  0.0)        0 (  0.0)             
##      Disagree                         0 (  0.0)        0 (  0.0)             
##      Neither disagree nor agree       0 (  0.0)        0 (  0.0)             
##      Agree                            0 (  0.0)        1 (100.0)             
##      Completely agree                10 (100.0)        0 (  0.0)</code></pre>
<p>If you want to do it on a large set of variables then it might be convenient to extract the names without having to type all in:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="intro-to-large-survey-data.html#cb154-1" tabindex="-1"></a>varnames <span class="ot">&lt;-</span> <span class="fu">colnames</span>(fmcrsurvey)[<span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb154-2"><a href="intro-to-large-survey-data.html#cb154-2" tabindex="-1"></a><span class="fu">CreateTableOne</span>(<span class="at">data =</span> fmcrsurvey, <span class="at">vars =</span> varnames, </span>
<span id="cb154-3"><a href="intro-to-large-survey-data.html#cb154-3" tabindex="-1"></a>               <span class="at">strata =</span> <span class="st">&#39;Gender&#39;</span>)</span></code></pre></div>
<p>Try to play around with these codes to see if it makes sense what is presented.</p>
</div>
<div id="the-tidyverse-way" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">10.5</span> The tidyverse way<a href="intro-to-large-survey-data.html#the-tidyverse-way" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If the datasets get to large, or the work feels too tedious, there’s a way around that - the <strong>tidyverse</strong>-way. <strong>tidyverse</strong> is a large framework build in R, that lets you do almost everything with data. For example it uses what is called the pipe operator: <strong>%&gt;%</strong>. For more information, see <a href="introduction-to-r.html#edit-using-tidyverse">Edit using Tidyverse</a>.</p>
<p>Now, let’s look at all <em>Likert-scale</em> variables in plots and numbers:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="intro-to-large-survey-data.html#cb155-1" tabindex="-1"></a><span class="fu">library</span>(data4consumerscience)</span>
<span id="cb155-2"><a href="intro-to-large-survey-data.html#cb155-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;fmcrsurvey&quot;</span>)</span>
<span id="cb155-3"><a href="intro-to-large-survey-data.html#cb155-3" tabindex="-1"></a>fmcrsurvey <span class="sc">%&gt;%</span> </span>
<span id="cb155-4"><a href="intro-to-large-survey-data.html#cb155-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> I_will_only_buy_products_at_a_reduced_price<span class="sc">:</span>I_am_able_to_prepare_a_soup, <span class="at">names_to =</span> <span class="st">&#39;var&#39;</span>, <span class="at">values_to =</span> <span class="st">&#39;y&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb155-5"><a href="intro-to-large-survey-data.html#cb155-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(y)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>var) <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<p>Some of the levels added doesn’t fit with the columns, which yields the mediocre result above. One will have to either align the levels, or make separate plots for each group of levels.</p>
<p>Aligning can be done in different ways, e.g., in R and in Excel, but in our case, since the questions do not have the same number of levels, it seems more appropriate to create two different plots, to ensure that no information is lost.</p>
<p>The <strong>reorder_levels</strong>-function from the <strong>rstatix</strong>-package ensures, that the levels appear in the desired order on the plot.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="intro-to-large-survey-data.html#cb156-1" tabindex="-1"></a><span class="fu">library</span>(rstatix)</span>
<span id="cb156-2"><a href="intro-to-large-survey-data.html#cb156-2" tabindex="-1"></a>fmcrsurvey <span class="sc">%&gt;%</span> </span>
<span id="cb156-3"><a href="intro-to-large-survey-data.html#cb156-3" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> I_will_only_buy_products_at_a_reduced_price<span class="sc">:</span>I_am_always_updated_on_the_latest_food_trends, <span class="at">names_to =</span> <span class="st">&#39;var&#39;</span>,<span class="at">values_to =</span> <span class="st">&#39;y&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb156-4"><a href="intro-to-large-survey-data.html#cb156-4" tabindex="-1"></a>  <span class="fu">reorder_levels</span>(<span class="at">data =</span> ., <span class="at">name =</span> <span class="st">&#39;y&#39;</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">&#39;Disagree extremely&#39;</span>,</span>
<span id="cb156-5"><a href="intro-to-large-survey-data.html#cb156-5" tabindex="-1"></a>                                         <span class="st">&#39;Disagree&#39;</span>,</span>
<span id="cb156-6"><a href="intro-to-large-survey-data.html#cb156-6" tabindex="-1"></a>                                         <span class="st">&#39;Disagree slightly&#39;</span>,</span>
<span id="cb156-7"><a href="intro-to-large-survey-data.html#cb156-7" tabindex="-1"></a>                                         <span class="st">&#39;Neutral&#39;</span>,</span>
<span id="cb156-8"><a href="intro-to-large-survey-data.html#cb156-8" tabindex="-1"></a>                                         <span class="st">&#39;Agree slightly&#39;</span>,</span>
<span id="cb156-9"><a href="intro-to-large-survey-data.html#cb156-9" tabindex="-1"></a>                                         <span class="st">&#39;Agree&#39;</span>,</span>
<span id="cb156-10"><a href="intro-to-large-survey-data.html#cb156-10" tabindex="-1"></a>                                         <span class="st">&#39;Agree extremely&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb156-11"><a href="intro-to-large-survey-data.html#cb156-11" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(y,<span class="at">fill =</span> Gender)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>var) <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="intro-to-large-survey-data.html#cb157-1" tabindex="-1"></a>fmcrsurvey <span class="sc">%&gt;%</span> </span>
<span id="cb157-2"><a href="intro-to-large-survey-data.html#cb157-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> I_will_only_buy_products_at_a_reduced_price<span class="sc">:</span>I_am_able_to_prepare_a_soup, <span class="at">names_to =</span> <span class="st">&#39;var&#39;</span>,<span class="at">values_to =</span> <span class="st">&#39;y&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb157-3"><a href="intro-to-large-survey-data.html#cb157-3" tabindex="-1"></a>  <span class="fu">reorder_levels</span>(<span class="at">data =</span> ., <span class="at">name =</span> <span class="st">&#39;y&#39;</span>, </span>
<span id="cb157-4"><a href="intro-to-large-survey-data.html#cb157-4" tabindex="-1"></a>                 <span class="at">order =</span> <span class="fu">c</span>(<span class="st">&#39;Completely disagree&#39;</span>,</span>
<span id="cb157-5"><a href="intro-to-large-survey-data.html#cb157-5" tabindex="-1"></a>                           <span class="st">&#39;Disagree&#39;</span>,</span>
<span id="cb157-6"><a href="intro-to-large-survey-data.html#cb157-6" tabindex="-1"></a>                           <span class="st">&#39;Neither disagree nor agree&#39;</span>,</span>
<span id="cb157-7"><a href="intro-to-large-survey-data.html#cb157-7" tabindex="-1"></a>                           <span class="st">&#39;Agree&#39;</span>,</span>
<span id="cb157-8"><a href="intro-to-large-survey-data.html#cb157-8" tabindex="-1"></a>                           <span class="st">&#39;Completely agree&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb157-9"><a href="intro-to-large-survey-data.html#cb157-9" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(y,<span class="at">fill =</span> Gender)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>var) <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-110-2.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mst-exercises.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="consumer-segmentation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/edit/master/09_LargeSurveyData.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/09_LargeSurveyData.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
