<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 16 Preference Mapping | Data Analysis in R for Sensory and Consumer Science</title>
  <meta name="description" content="Chapter 16 Preference Mapping | Data Analysis in R for Sensory and Consumer Science" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 16 Preference Mapping | Data Analysis in R for Sensory and Consumer Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 16 Preference Mapping | Data Analysis in R for Sensory and Consumer Science" />
  
  
  

<meta name="author" content="Morten Arendt Rasmussen, Julius Jessen Terp, Helene C. Reinbach and Bodil H. Allesen-Holm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cata-and-hedonics.html"/>
<link rel="next" href="hedonic-rating-e.g.-liking-scores.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in R for Consumer Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the book</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-get-started---understanding-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> How to get started - understanding R (and RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#organise-and-save-scripts"><i class="fa fa-check"></i><b>2.1.1</b> Organise and save scripts</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-import-data"><i class="fa fa-check"></i><b>2.2</b> How to import data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#import-data-from-r-package"><i class="fa fa-check"></i><b>2.2.1</b> Import data from R-package</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-a-csv-file"><i class="fa fa-check"></i><b>2.2.2</b> Importing a csv file</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-an-excel-filesheet"><i class="fa fa-check"></i><b>2.2.3</b> Importing an Excel file/sheet</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#clipboard-import"><i class="fa fa-check"></i><b>2.2.4</b> Clipboard import</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#looking-at-the-imported-elements"><i class="fa fa-check"></i><b>2.2.5</b> Looking at the imported elements</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#numbers-and-factors---changing-categorisation"><i class="fa fa-check"></i><b>2.2.6</b> Numbers and factors - changing categorisation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-edit-and-merge-datasets"><i class="fa fa-check"></i><b>2.3</b> How to edit and merge datasets</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-save-the-data"><i class="fa fa-check"></i><b>2.4</b> How to save the data</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-export-data-results"><i class="fa fa-check"></i><b>2.5</b> How to export data / results</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-load-your-rdata"><i class="fa fa-check"></i><b>2.6</b> How to load your RData</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-clear-your-environment"><i class="fa fa-check"></i><b>2.7</b> How to clear your environment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>3</b> Libraries</a></li>
<li class="chapter" data-level="4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>4</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#descriptives-for-a-continuous-variable"><i class="fa fa-check"></i><b>4.1</b> Descriptives for a continuous variable</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mean-median"><i class="fa fa-check"></i><b>4.1.1</b> Mean / median</a></li>
<li class="chapter" data-level="4.1.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#variance"><i class="fa fa-check"></i><b>4.1.2</b> Variance</a></li>
<li class="chapter" data-level="4.1.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>4.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="4.1.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#calculations"><i class="fa fa-check"></i><b>4.1.4</b> Calculations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#distributions-of-count-data"><i class="fa fa-check"></i><b>4.2</b> Distributions of count data</a></li>
<li class="chapter" data-level="4.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#aggregate"><i class="fa fa-check"></i><b>4.3</b> Aggregate</a></li>
<li class="chapter" data-level="4.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#tidyverse"><i class="fa fa-check"></i><b>4.4</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="inferential-statistics.html"><a href="inferential-statistics.html"><i class="fa fa-check"></i><b>5</b> Inferential statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#intro"><i class="fa fa-check"></i><b>5.1</b> Intro</a></li>
<li class="chapter" data-level="5.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-testing"><i class="fa fa-check"></i><b>5.2</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#power"><i class="fa fa-check"></i><b>5.2.1</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>5.3</b> Confidence intervals</a></li>
<li class="chapter" data-level="5.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#t-test"><i class="fa fa-check"></i><b>5.4</b> T-test</a></li>
<li class="chapter" data-level="5.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#f-test"><i class="fa fa-check"></i><b>5.5</b> F-test</a></li>
<li class="chapter" data-level="5.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>5.6</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#one-way-anova"><i class="fa fa-check"></i><b>5.6.1</b> One-way ANOVA</a></li>
<li class="chapter" data-level="5.6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#two-way-anova"><i class="fa fa-check"></i><b>5.6.2</b> Two-way ANOVA</a></li>
<li class="chapter" data-level="5.6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#post-hoc-test---tukeys-honest-significant-difference"><i class="fa fa-check"></i><b>5.6.3</b> Post hoc test - Tukey’s Honest Significant Difference</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="inferential-statistics.html"><a href="inferential-statistics.html#introduction-to-linear-and-mixed-models"><i class="fa fa-check"></i><b>5.7</b> Introduction to linear and mixed models</a></li>
<li class="chapter" data-level="5.8" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-and-mixed-models"><i class="fa fa-check"></i><b>5.8</b> Normal and Mixed models</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-model"><i class="fa fa-check"></i><b>5.8.1</b> Normal model</a></li>
<li class="chapter" data-level="5.8.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#mixed-model"><i class="fa fa-check"></i><b>5.8.2</b> Mixed model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="plotting-data.html"><a href="plotting-data.html"><i class="fa fa-check"></i><b>6</b> Plotting data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="plotting-data.html"><a href="plotting-data.html#histograms-and-boxplots"><i class="fa fa-check"></i><b>6.1</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="6.2" data-path="plotting-data.html"><a href="plotting-data.html#scatter-plots"><i class="fa fa-check"></i><b>6.2</b> Scatter plots</a></li>
<li class="chapter" data-level="6.3" data-path="plotting-data.html"><a href="plotting-data.html#how-to-export-plots"><i class="fa fa-check"></i><b>6.3</b> How to export plots</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html"><i class="fa fa-check"></i><b>7</b> Introduction to PCA and multivariate data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#a-bit-of-math"><i class="fa fa-check"></i><b>7.1</b> A bit of math</a></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#interpreting-model-output"><i class="fa fa-check"></i><b>7.2</b> Interpreting model output</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#biplot"><i class="fa fa-check"></i><b>7.2.1</b> Biplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html"><i class="fa fa-check"></i><b>8</b> Buffet and survey data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#buffet-data"><i class="fa fa-check"></i><b>8.1</b> Buffet data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#introduction-to-buffet-data"><i class="fa fa-check"></i><b>8.1.1</b> Introduction to buffet data</a></li>
<li class="chapter" data-level="8.1.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-buffet-data"><i class="fa fa-check"></i><b>8.1.2</b> Plotting buffet data</a></li>
<li class="chapter" data-level="8.1.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#mixed-model-for-buffet-data"><i class="fa fa-check"></i><b>8.1.3</b> Mixed model for buffet data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#survey-data"><i class="fa fa-check"></i><b>8.2</b> Survey data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-survey-data"><i class="fa fa-check"></i><b>8.2.1</b> Plotting survey data</a></li>
<li class="chapter" data-level="8.2.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#linear-model-for-buffet-data"><i class="fa fa-check"></i><b>8.2.2</b> Linear model for buffet data</a></li>
<li class="chapter" data-level="8.2.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#post-hoc-test-for-survey-data"><i class="fa fa-check"></i><b>8.2.3</b> Post-hoc test for survey data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#combining-consumption-and-survey-data"><i class="fa fa-check"></i><b>8.3</b> Combining consumption and survey data</a></li>
<li class="chapter" data-level="8.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#pca-on-survey-answers"><i class="fa fa-check"></i><b>8.4</b> PCA on survey answers</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#wrangle-data"><i class="fa fa-check"></i><b>8.4.1</b> Wrangle data</a></li>
<li class="chapter" data-level="8.4.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#build-the-model"><i class="fa fa-check"></i><b>8.4.2</b> Build the model</a></li>
<li class="chapter" data-level="8.4.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#bi-plot"><i class="fa fa-check"></i><b>8.4.3</b> Bi-plot</a></li>
<li class="chapter" data-level="8.4.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#extract-the-components-and-run-all-associations."><i class="fa fa-check"></i><b>8.4.4</b> Extract the components and run all associations.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mst-exercises.html"><a href="mst-exercises.html"><i class="fa fa-check"></i><b>9</b> MST exercises</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-1"><i class="fa fa-check"></i><b>9.1</b> Exercise 1</a></li>
<li class="chapter" data-level="9.2" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-2"><i class="fa fa-check"></i><b>9.2</b> Exercise 2</a></li>
<li class="chapter" data-level="9.3" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-3"><i class="fa fa-check"></i><b>9.3</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html"><i class="fa fa-check"></i><b>10</b> Intro to large survey data</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#looking-at-the-data-and-checking-formating"><i class="fa fa-check"></i><b>10.0.1</b> Looking at the data and checking formating</a></li>
<li class="chapter" data-level="10.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>10.1</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#numeric-values"><i class="fa fa-check"></i><b>10.1.1</b> Numeric values</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#plots"><i class="fa fa-check"></i><b>10.2</b> Plots</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#within-groups-of-data"><i class="fa fa-check"></i><b>10.2.1</b> Within groups of data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#categorical-ordinal-variables"><i class="fa fa-check"></i><b>10.3</b> Categorical / Ordinal variables</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#tables"><i class="fa fa-check"></i><b>10.3.1</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#table-1"><i class="fa fa-check"></i><b>10.4</b> Table 1</a></li>
<li class="chapter" data-level="10.5" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#the-tidyverse-way"><i class="fa fa-check"></i><b>10.5</b> The tidyverse way</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html"><i class="fa fa-check"></i><b>11</b> Consumer segmentation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation"><i class="fa fa-check"></i><b>11.1</b> Segmentation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#k-means"><i class="fa fa-check"></i><b>11.1.1</b> K-means</a></li>
<li class="chapter" data-level="11.1.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#initial-characterization-of-clusters"><i class="fa fa-check"></i><b>11.1.2</b> Initial characterization of clusters</a></li>
<li class="chapter" data-level="11.1.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#vizualization"><i class="fa fa-check"></i><b>11.1.3</b> Vizualization</a></li>
<li class="chapter" data-level="11.1.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#sums-of-squares-from-the-clustering"><i class="fa fa-check"></i><b>11.1.4</b> Sums of Squares from the clustering</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#selecting-the-number-of-clusters"><i class="fa fa-check"></i><b>11.2</b> Selecting the number of clusters</a></li>
<li class="chapter" data-level="11.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation---another-example"><i class="fa fa-check"></i><b>11.3</b> Segmentation - another example</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#cluster-analysis"><i class="fa fa-check"></i><b>11.3.1</b> Cluster analysis</a></li>
<li class="chapter" data-level="11.3.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#plot-the-model-using-pca"><i class="fa fa-check"></i><b>11.3.2</b> Plot the model using PCA</a></li>
<li class="chapter" data-level="11.3.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#add-to-dataset"><i class="fa fa-check"></i><b>11.3.3</b> Add to dataset</a></li>
<li class="chapter" data-level="11.3.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#comments"><i class="fa fa-check"></i><b>11.3.4</b> Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="profiling-segments.html"><a href="profiling-segments.html"><i class="fa fa-check"></i><b>12</b> Profiling segments</a>
<ul>
<li class="chapter" data-level="12.1" data-path="profiling-segments.html"><a href="profiling-segments.html#table-1-as-a-profiling-tool"><i class="fa fa-check"></i><b>12.1</b> Table 1 as a profiling tool</a></li>
<li class="chapter" data-level="12.2" data-path="profiling-segments.html"><a href="profiling-segments.html#visualization-of-consumer-segments"><i class="fa fa-check"></i><b>12.2</b> Visualization of Consumer Segments</a></li>
<li class="chapter" data-level="12.3" data-path="profiling-segments.html"><a href="profiling-segments.html#creating-the-contingency-table"><i class="fa fa-check"></i><b>12.3</b> Creating the contingency table</a></li>
<li class="chapter" data-level="12.4" data-path="profiling-segments.html"><a href="profiling-segments.html#plot-the-numbers"><i class="fa fa-check"></i><b>12.4</b> Plot the numbers</a></li>
<li class="chapter" data-level="12.5" data-path="profiling-segments.html"><a href="profiling-segments.html#contingency-table"><i class="fa fa-check"></i><b>12.5</b> Contingency table</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="profiling-segments.html"><a href="profiling-segments.html#pearson-chi-square-test"><i class="fa fa-check"></i><b>12.5.1</b> Pearson Chi-square test</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="profiling-segments.html"><a href="profiling-segments.html#correspondence-analysis"><i class="fa fa-check"></i><b>12.6</b> Correspondence Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression.html"><a href="logistic-regression.html#segmentationclustering"><i class="fa fa-check"></i><b>13.1</b> Segmentation/Clustering</a></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression.html"><a href="logistic-regression.html#fitting-the-logistic-regression-model"><i class="fa fa-check"></i><b>13.2</b> Fitting the logistic regression-model</a></li>
<li class="chapter" data-level="13.3" data-path="logistic-regression.html"><a href="logistic-regression.html#probabilities-of-segment-membership"><i class="fa fa-check"></i><b>13.3</b> Probabilities of segment membership:</a></li>
<li class="chapter" data-level="13.4" data-path="logistic-regression.html"><a href="logistic-regression.html#odds-ratios"><i class="fa fa-check"></i><b>13.4</b> Odds ratios</a></li>
<li class="chapter" data-level="13.5" data-path="logistic-regression.html"><a href="logistic-regression.html#ors-and-probs"><i class="fa fa-check"></i><b>13.5</b> ORs and Probs</a></li>
<li class="chapter" data-level="13.6" data-path="logistic-regression.html"><a href="logistic-regression.html#effect-of-age"><i class="fa fa-check"></i><b>13.6</b> Effect of Age</a></li>
<li class="chapter" data-level="13.7" data-path="logistic-regression.html"><a href="logistic-regression.html#multivariate-analysis"><i class="fa fa-check"></i><b>13.7</b> Multivariate analysis</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="logistic-regression.html"><a href="logistic-regression.html#descriptives"><i class="fa fa-check"></i><b>13.7.1</b> Descriptives</a></li>
<li class="chapter" data-level="13.7.2" data-path="logistic-regression.html"><a href="logistic-regression.html#two-nested-models"><i class="fa fa-check"></i><b>13.7.2</b> Two nested models</a></li>
<li class="chapter" data-level="13.7.3" data-path="logistic-regression.html"><a href="logistic-regression.html#coefficients"><i class="fa fa-check"></i><b>13.7.3</b> Coefficients</a></li>
<li class="chapter" data-level="13.7.4" data-path="logistic-regression.html"><a href="logistic-regression.html#re-level"><i class="fa fa-check"></i><b>13.7.4</b> Re-level</a></li>
<li class="chapter" data-level="13.7.5" data-path="logistic-regression.html"><a href="logistic-regression.html#all-pairwise-comparisons"><i class="fa fa-check"></i><b>13.7.5</b> All pairwise comparisons</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="logistic-regression.html"><a href="logistic-regression.html#segment-2-and-3"><i class="fa fa-check"></i><b>13.8</b> Segment 2 and 3</a></li>
<li class="chapter" data-level="13.9" data-path="logistic-regression.html"><a href="logistic-regression.html#a-new-set-of-data"><i class="fa fa-check"></i><b>13.9</b> A new set of data</a></li>
<li class="chapter" data-level="13.10" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-for-demographic-characterization"><i class="fa fa-check"></i><b>13.10</b> Logistic regression for demographic characterization</a>
<ul>
<li class="chapter" data-level="13.10.1" data-path="logistic-regression.html"><a href="logistic-regression.html#age"><i class="fa fa-check"></i><b>13.10.1</b> Age</a></li>
<li class="chapter" data-level="13.10.2" data-path="logistic-regression.html"><a href="logistic-regression.html#gender"><i class="fa fa-check"></i><b>13.10.2</b> Gender</a></li>
</ul></li>
<li class="chapter" data-level="13.11" data-path="logistic-regression.html"><a href="logistic-regression.html#task"><i class="fa fa-check"></i><b>13.11</b> TASK</a></li>
<li class="chapter" data-level="13.12" data-path="logistic-regression.html"><a href="logistic-regression.html#the-tidyverse-way-1"><i class="fa fa-check"></i><b>13.12</b> The tidyverse way</a></li>
<li class="chapter" data-level="13.13" data-path="logistic-regression.html"><a href="logistic-regression.html#comment"><i class="fa fa-check"></i><b>13.13</b> Comment</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html"><i class="fa fa-check"></i><b>14</b> CATA data (Check-All-That-Apply)</a>
<ul>
<li class="chapter" data-level="14.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#importing-and-looking-at-the-beer-data"><i class="fa fa-check"></i><b>14.1</b> Importing and looking at the beer data</a></li>
<li class="chapter" data-level="14.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#two-versions-of-the-data"><i class="fa fa-check"></i><b>14.2</b> Two versions of the data</a></li>
<li class="chapter" data-level="14.3" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#cochrans-q-test"><i class="fa fa-check"></i><b>14.3</b> Cochran’s Q test</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#post-hoc-test"><i class="fa fa-check"></i><b>14.3.1</b> Post hoc test</a></li>
<li class="chapter" data-level="14.3.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#for-all-attributes-in-one-run-nice-to-know"><i class="fa fa-check"></i><b>14.3.2</b> For all attributes in one run (nice to know)</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#pca-on-cata-data"><i class="fa fa-check"></i><b>14.4</b> PCA on CATA data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html"><i class="fa fa-check"></i><b>15</b> CATA and Hedonics</a>
<ul>
<li class="chapter" data-level="15.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#individual-attributes-and-liking"><i class="fa fa-check"></i><b>15.1</b> Individual attributes and liking</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#an-example-with-refreshing"><i class="fa fa-check"></i><b>15.1.1</b> An example with Refreshing</a></li>
<li class="chapter" data-level="15.1.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#all-attributes"><i class="fa fa-check"></i><b>15.1.2</b> All attributes</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pca-on-cata-and-liking"><i class="fa fa-check"></i><b>15.2</b> PCA on CATA and Liking</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#a-beer-centric-model"><i class="fa fa-check"></i><b>15.2.1</b> A beer centric model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="preference-mapping.html"><a href="preference-mapping.html"><i class="fa fa-check"></i><b>16</b> Preference Mapping</a>
<ul>
<li class="chapter" data-level="16.1" data-path="preference-mapping.html"><a href="preference-mapping.html#example-of-preference-mapping"><i class="fa fa-check"></i><b>16.1</b> Example of Preference Mapping</a></li>
<li class="chapter" data-level="16.2" data-path="preference-mapping.html"><a href="preference-mapping.html#pca"><i class="fa fa-check"></i><b>16.2</b> PCA</a></li>
<li class="chapter" data-level="16.3" data-path="preference-mapping.html"><a href="preference-mapping.html#analysis-by-pls"><i class="fa fa-check"></i><b>16.3</b> Analysis by PLS</a></li>
<li class="chapter" data-level="16.4" data-path="preference-mapping.html"><a href="preference-mapping.html#l-pls-for-the-future"><i class="fa fa-check"></i><b>16.4</b> L-PLS [For the future…]</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html"><i class="fa fa-check"></i><b>17</b> Hedonic rating (e.g. liking scores)</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#plotting-liking-scores"><i class="fa fa-check"></i><b>17.1</b> Plotting liking scores</a></li>
<li class="chapter" data-level="17.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#simple-mixed-models"><i class="fa fa-check"></i><b>17.2</b> Simple mixed models</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#post-hoc-test-1"><i class="fa fa-check"></i><b>17.2.1</b> Post hoc test</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#multivariable-models"><i class="fa fa-check"></i><b>17.3</b> Multivariable models</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#additive-models"><i class="fa fa-check"></i><b>17.3.1</b> Additive models</a></li>
<li class="chapter" data-level="17.3.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#effect-modification-and-interactions"><i class="fa fa-check"></i><b>17.3.2</b> Effect modification and Interactions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="projective-mapping.html"><a href="projective-mapping.html"><i class="fa fa-check"></i><b>18</b> Projective mapping</a>
<ul>
<li class="chapter" data-level="18.1" data-path="projective-mapping.html"><a href="projective-mapping.html#example-from-mapping-of-xx"><i class="fa fa-check"></i><b>18.1</b> Example from mapping of XX</a></li>
<li class="chapter" data-level="18.2" data-path="projective-mapping.html"><a href="projective-mapping.html#a-collated-version-of-the-data"><i class="fa fa-check"></i><b>18.2</b> A Collated version of the data</a></li>
<li class="chapter" data-level="18.3" data-path="projective-mapping.html"><a href="projective-mapping.html#pca-on-collated-data"><i class="fa fa-check"></i><b>18.3</b> PCA on Collated data</a></li>
<li class="chapter" data-level="18.4" data-path="projective-mapping.html"><a href="projective-mapping.html#section"><i class="fa fa-check"></i><b>18.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="tfih-exercises.html"><a href="tfih-exercises.html"><i class="fa fa-check"></i><b>19</b> TFIH Exercises</a>
<ul>
<li class="chapter" data-level="19.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-1-descriptive-statistics-and-plots"><i class="fa fa-check"></i><b>19.1</b> Exercise 1: Descriptive statistics and plots</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#cata-counts"><i class="fa fa-check"></i><b>19.1.1</b> CATA counts</a></li>
<li class="chapter" data-level="19.1.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#hedonics"><i class="fa fa-check"></i><b>19.1.2</b> Hedonics</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-2-consumer-background-and-pca"><i class="fa fa-check"></i><b>19.2</b> Exercise 2: Consumer background and PCA</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#demographics"><i class="fa fa-check"></i><b>19.2.1</b> Demographics</a></li>
<li class="chapter" data-level="19.2.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-interests"><i class="fa fa-check"></i><b>19.2.2</b> PCA on <em>Interests</em></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-3-pca-on-cata-counts"><i class="fa fa-check"></i><b>19.3</b> Exercise 3: PCA on CATA counts</a></li>
<li class="chapter" data-level="19.4" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-4-cochrans-q-test-on-cata-binary-data"><i class="fa fa-check"></i><b>19.4</b> Exercise 4: Cochran’s Q test on CATA binary data</a></li>
<li class="chapter" data-level="19.5" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-5-hedonic-ratings-and-consumer-characteristics"><i class="fa fa-check"></i><b>19.5</b> Exercise 5: Hedonic ratings and consumer characteristics</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-joint-data"><i class="fa fa-check"></i><b>19.5.1</b> PCA on joint data</a></li>
<li class="chapter" data-level="19.5.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#all-demographics"><i class="fa fa-check"></i><b>19.5.2</b> All demographics</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-6-pca-on-cata-counts-and-hedonic-ratings"><i class="fa fa-check"></i><b>19.6</b> Exercise 6: PCA on CATA counts and hedonic ratings</a></li>
<li class="chapter" data-level="19.7" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-7-mixed-modelling-on-hedonic-ratings"><i class="fa fa-check"></i><b>19.7</b> Exercise 7: Mixed modelling on hedonic ratings</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="chapters-to-appear.html"><a href="chapters-to-appear.html"><i class="fa fa-check"></i><b>20</b> CHAPTERS to APPEAR</a></li>
<li class="chapter" data-level="21" data-path="latent-factor-models.html"><a href="latent-factor-models.html"><i class="fa fa-check"></i><b>21</b> Latent Factor Models</a></li>
<li class="chapter" data-level="22" data-path="lpls.html"><a href="lpls.html"><i class="fa fa-check"></i><b>22</b> LPLS</a></li>
<li class="chapter" data-level="23" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html"><i class="fa fa-check"></i><b>23</b> Confirmatory Factor Analysis using lavaan</a>
<ul>
<li class="chapter" data-level="23.1" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html#example---food-neophobia"><i class="fa fa-check"></i><b>23.1</b> Example - Food Neophobia</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html"><i class="fa fa-check"></i><b>24</b> Structured Equation Modelling</a>
<ul>
<li class="chapter" data-level="24.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#example---theory-of-planned-behaviour"><i class="fa fa-check"></i><b>24.1</b> Example - Theory of Planned Behaviour</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="plsda-on-cata-and-liking.html"><a href="plsda-on-cata-and-liking.html"><i class="fa fa-check"></i><b>25</b> PLSDA on CATA and liking</a></li>
<li class="chapter" data-level="26" data-path="text-mining-of-comsumer-reviews.html"><a href="text-mining-of-comsumer-reviews.html"><i class="fa fa-check"></i><b>26</b> Text mining of comsumer reviews</a></li>
<li class="chapter" data-level="27" data-path="text-mining-of-open-ended-survey-responses.html"><a href="text-mining-of-open-ended-survey-responses.html"><i class="fa fa-check"></i><b>27</b> Text mining of open-ended survey responses</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in R for Sensory and Consumer Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preference-mapping" class="section level1 hasAnchor" number="16">
<h1><span class="header-section-number">Chapter 16</span> Preference Mapping<a href="preference-mapping.html#preference-mapping" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>[some narrative]</p>
<div id="example-of-preference-mapping" class="section level2 hasAnchor" number="16.1">
<h2><span class="header-section-number">16.1</span> Example of Preference Mapping<a href="preference-mapping.html#example-of-preference-mapping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>[Which???]</p>
</div>
<div id="pca" class="section level2 hasAnchor" number="16.2">
<h2><span class="header-section-number">16.2</span> PCA<a href="preference-mapping.html#pca" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>PCA is a nice tool to get overview of structure in data. Here we explicitly are interested in hedonic liking of the 6 beer types, and whether there are certain beer-drinker profiles, such as some prefer dark beer, while others like wheat or pilsner.</p>
<p>The liking data is in long format, and as we want to see correlation between different beers we need to wrap the liking into wide format, this can be done using <strong>spread</strong> from tidyverse. Further, there is incomplete liking data, and here we only sustain hedonic answers from consumers with all <em>6</em> liking answers. This filter can be computed in different ways, here <strong>drop_na()</strong> is used.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="preference-mapping.html#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data4consumerscience)</span>
<span id="cb310-2"><a href="preference-mapping.html#cb310-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb310-3"><a href="preference-mapping.html#cb310-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;beerliking&quot;</span>)</span>
<span id="cb310-4"><a href="preference-mapping.html#cb310-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-5"><a href="preference-mapping.html#cb310-5" aria-hidden="true" tabindex="-1"></a>xbeerliking <span class="ot">&lt;-</span> beerliking <span class="sc">%&gt;%</span> </span>
<span id="cb310-6"><a href="preference-mapping.html#cb310-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(Beer,Liking) <span class="sc">%&gt;%</span> <span class="co"># make into wide format</span></span>
<span id="cb310-7"><a href="preference-mapping.html#cb310-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span></code></pre></div>
<p>PCA is computed on the liking columns of this matrix</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="preference-mapping.html#cb311-1" aria-hidden="true" tabindex="-1"></a>mdlPCA <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(xbeerliking[,<span class="dv">13</span><span class="sc">:</span><span class="dv">18</span>])</span>
<span id="cb311-2"><a href="preference-mapping.html#cb311-2" aria-hidden="true" tabindex="-1"></a>ggbiplot<span class="sc">::</span><span class="fu">ggbiplot</span>(mdlPCA)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-165-1.png" width="672" /></p>
<p>Those who like <em>Ravnsborg red</em> also likes <em>NY Lager</em> and to some extend <em>Brown ale</em>, while <em>Porse Bock</em> and <em>Wheat IPA</em> also attracts the same consumers.</p>
<p>In general there is a trend towards all liking score being positively correlated, meaning, that costumers overall like (or dis like) beer. This can both be a real phenomena, but also an artifact of the consumers not using the scale in a similar fashion. It is a very common phenomena for sensory and hedonic data.</p>
<p>We can glue on demographic characteristics, such as age, gender, etc., as well as questions on interest in food and beer on this figure to understand the consumer population.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="preference-mapping.html#cb312-1" aria-hidden="true" tabindex="-1"></a>ggbiplot<span class="sc">::</span><span class="fu">ggbiplot</span>(mdlPCA, <span class="at">groups =</span> xbeerliking<span class="sc">$</span>Gender, <span class="at">ellipse =</span> T)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-166-1.png" width="672" /></p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="preference-mapping.html#cb313-1" aria-hidden="true" tabindex="-1"></a>ggbiplot<span class="sc">::</span><span class="fu">ggbiplot</span>(mdlPCA, <span class="at">groups =</span> <span class="fu">factor</span>(xbeerliking<span class="sc">$</span><span class="st">`</span><span class="at">Beer knowledge</span><span class="st">`</span>), <span class="at">ellipse =</span> T)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-167-1.png" width="672" /></p>
<p>In general, the classical demographics do not relate to liking patterns, as shown by gender above. Try the others to confirm.</p>
<p>For interest in food and beer there are patterns. One example is the <em>Beer knowledge</em> with higher liking scores for more beer knowledge. Similar intuitive patterns can be seen for some of the other characteristics.</p>
</div>
<div id="analysis-by-pls" class="section level2 hasAnchor" number="16.3">
<h2><span class="header-section-number">16.3</span> Analysis by PLS<a href="preference-mapping.html#analysis-by-pls" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Predictors can be objective characteristics of the products or CATA type data, while response is hedonic liking data.
[minimum 5 samples</p>
<p>X = CATA (Beer_XYZmatrix.xlsx, sheet = X CATA (coll.)+Y liking (aver.)),
Y = Living average
Y2 = Liking for each consumer = t(Y (long thin))</p>
<p>Objective = Visualize to get patterns related to liking, and which deescriptors are merely irrelevant.</p>
</div>
<div id="l-pls-for-the-future" class="section level2 hasAnchor" number="16.4">
<h2><span class="header-section-number">16.4</span> L-PLS [For the future…]<a href="preference-mapping.html#l-pls-for-the-future" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The data used in this section is from the paper: <em>Giacalone, Davide, Wender L.P. Bredie, and Michael Bom Frøst. “‘All-In-One Test’ (AI1): A Rapid and Easily Applicable Approach to Consumer Product Testing.” Food quality and preference 27.2 (2013): 108–119. Web.</em>. Data can be found in the <em>data4consumerscience-package</em> as <strong>beercata</strong>, <strong>beerdemo</strong>, <strong>beerliking</strong></p>
<p><em>L-PLS</em> is a valuable tool in identifying the sensory attributes and consumer background characteristics that contribute to a consumer’s liking of a product, such as beer.</p>
<p>A L-PLS model is created using three data blocks: <strong>X1</strong>, <strong>X2</strong>, and <strong>X3</strong>. <strong>X1</strong> is an IxN matrix that contains consumer liking scores for each sample, X2 is an IxJ matrix that includes sensory attributes for each sample, and X3 is a KxN matrix that comprises consumer background data. I represents the number of samples (beer), N represents the number of consumers, J represents the number of sensory variables, and K represents the number of consumer background variables.</p>
<p>There are two ways to perform L-PLS: exo and endo. In the exo-LPLSR model, X1 serves as the regressor, while in the endo-LPLSR model, X2 and X3 are the regressors. The exo-LPLSR model typically explains more of X than the endo-LPLSR model because the exo-LPLSR derives its bilinear components from X, whereas the endo-LPLSR derives its components from Y and Z. The difference in the plot’s appearance can be predicted from the explained variance of each model type.</p>
<p>If both plots are similar in nature and in terms of the interpretation of the correlation loading plots, it may indicate consistent co-variation between the three matrices.</p>
<p>The exo version will only be showcased here, but the principle is the same, and endo can be useful for data exploration.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="preference-mapping.html#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data4consumerscience)</span>
<span id="cb314-2"><a href="preference-mapping.html#cb314-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;beercata&quot;</span>)</span>
<span id="cb314-3"><a href="preference-mapping.html#cb314-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;beerdemo&quot;</span>)</span>
<span id="cb314-4"><a href="preference-mapping.html#cb314-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;beerliking&quot;</span>)</span></code></pre></div>
<p>##Creating X1, X2, X3.</p>
<p>The preparation of the data, requires quite a lot of data manipulation.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="preference-mapping.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb315-2"><a href="preference-mapping.html#cb315-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb315-3"><a href="preference-mapping.html#cb315-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb315-4"><a href="preference-mapping.html#cb315-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-5"><a href="preference-mapping.html#cb315-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for LPLS analysis</span></span>
<span id="cb315-6"><a href="preference-mapping.html#cb315-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-7"><a href="preference-mapping.html#cb315-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Y - Beer Liking data</span></span>
<span id="cb315-8"><a href="preference-mapping.html#cb315-8" aria-hidden="true" tabindex="-1"></a>X1 <span class="ot">&lt;-</span> beerliking <span class="sc">%&gt;%</span></span>
<span id="cb315-9"><a href="preference-mapping.html#cb315-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Beer, Liking, Consumer.ID) <span class="sc">%&gt;%</span></span>
<span id="cb315-10"><a href="preference-mapping.html#cb315-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Consumer.ID, <span class="at">values_from =</span> Liking) <span class="sc">%&gt;%</span></span>
<span id="cb315-11"><a href="preference-mapping.html#cb315-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="st">&quot;Beer&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-12"><a href="preference-mapping.html#cb315-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(<span class="sc">~!</span><span class="fu">any</span>(<span class="fu">is.na</span>(.)))</span>
<span id="cb315-13"><a href="preference-mapping.html#cb315-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-14"><a href="preference-mapping.html#cb315-14" aria-hidden="true" tabindex="-1"></a><span class="do">## X - Beer Attributes data</span></span>
<span id="cb315-15"><a href="preference-mapping.html#cb315-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(beercata) <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;S_&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="fu">colnames</span>(beercata))</span>
<span id="cb315-16"><a href="preference-mapping.html#cb315-16" aria-hidden="true" tabindex="-1"></a>X2 <span class="ot">&lt;-</span> beercata <span class="sc">%&gt;%</span></span>
<span id="cb315-17"><a href="preference-mapping.html#cb315-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Beer, Flowers<span class="sc">:</span>Vinous) <span class="sc">%&gt;%</span></span>
<span id="cb315-18"><a href="preference-mapping.html#cb315-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>Beer, <span class="at">names_to =</span> <span class="st">&quot;Attribute&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-19"><a href="preference-mapping.html#cb315-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Beer, Attribute) <span class="sc">%&gt;%</span></span>
<span id="cb315-20"><a href="preference-mapping.html#cb315-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">Sum_value =</span> <span class="fu">sum</span>(Value)) <span class="sc">%&gt;%</span></span>
<span id="cb315-21"><a href="preference-mapping.html#cb315-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Attribute&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;Sum_value&quot;</span>, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-22"><a href="preference-mapping.html#cb315-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="st">&quot;Beer&quot;</span>)</span>
<span id="cb315-23"><a href="preference-mapping.html#cb315-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-24"><a href="preference-mapping.html#cb315-24" aria-hidden="true" tabindex="-1"></a><span class="do">## Z - Consumer Demographics data</span></span>
<span id="cb315-25"><a href="preference-mapping.html#cb315-25" aria-hidden="true" tabindex="-1"></a><span class="co"># select subset of columns and create binary columns for categorical variables</span></span>
<span id="cb315-26"><a href="preference-mapping.html#cb315-26" aria-hidden="true" tabindex="-1"></a>binary_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Age&quot;</span>, <span class="st">&quot;Income&quot;</span>, <span class="st">&quot;Householdsize&quot;</span>, <span class="st">&quot;Beer types/month&quot;</span>)</span>
<span id="cb315-27"><a href="preference-mapping.html#cb315-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (col <span class="cf">in</span> binary_cols) {</span>
<span id="cb315-28"><a href="preference-mapping.html#cb315-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.factor</span>(beerdemo[[col]]) <span class="sc">|</span> <span class="fu">is.character</span>(beerdemo[[col]])) {</span>
<span id="cb315-29"><a href="preference-mapping.html#cb315-29" aria-hidden="true" tabindex="-1"></a>    levels <span class="ot">&lt;-</span> <span class="fu">unique</span>(beerdemo[[col]])</span>
<span id="cb315-30"><a href="preference-mapping.html#cb315-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (level <span class="cf">in</span> levels) {</span>
<span id="cb315-31"><a href="preference-mapping.html#cb315-31" aria-hidden="true" tabindex="-1"></a>      new_col <span class="ot">&lt;-</span> <span class="fu">paste</span>(col, level, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb315-32"><a href="preference-mapping.html#cb315-32" aria-hidden="true" tabindex="-1"></a>      beerdemo[[new_col]] <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(beerdemo[[col]] <span class="sc">==</span> level, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;0&quot;</span>)</span>
<span id="cb315-33"><a href="preference-mapping.html#cb315-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb315-34"><a href="preference-mapping.html#cb315-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb315-35"><a href="preference-mapping.html#cb315-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb315-36"><a href="preference-mapping.html#cb315-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-37"><a href="preference-mapping.html#cb315-37" aria-hidden="true" tabindex="-1"></a><span class="co"># pivot longer and summarize to calculate sum values for each Consumer ID-Attribute combination</span></span>
<span id="cb315-38"><a href="preference-mapping.html#cb315-38" aria-hidden="true" tabindex="-1"></a>X3 <span class="ot">&lt;-</span> beerdemo <span class="sc">%&gt;%</span></span>
<span id="cb315-39"><a href="preference-mapping.html#cb315-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(Gender<span class="sc">:</span><span class="st">`</span><span class="at">Beer types/month</span><span class="st">`</span>),<span class="st">`</span><span class="at">Interest in food</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">Beer types/month_9 - 16</span><span class="st">`</span>,<span class="st">`</span><span class="at">Consumer ID</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-40"><a href="preference-mapping.html#cb315-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Consumer ID</span><span class="st">`</span>), </span>
<span id="cb315-41"><a href="preference-mapping.html#cb315-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">.funs =</span> <span class="fu">list</span>(<span class="sc">~</span><span class="fu">as.factor</span>(.) <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb315-42"><a href="preference-mapping.html#cb315-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span><span class="st">`</span><span class="at">Interest in food</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">Beer types/month_9 - 16</span><span class="st">`</span> , <span class="at">names_to =</span> <span class="st">&quot;Attribute&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-43"><a href="preference-mapping.html#cb315-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Consumer ID</span><span class="st">`</span>, Attribute) <span class="sc">%&gt;%</span></span>
<span id="cb315-44"><a href="preference-mapping.html#cb315-44" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">sum_Value =</span> <span class="fu">sum</span>(Value)) <span class="sc">%&gt;%</span></span>
<span id="cb315-45"><a href="preference-mapping.html#cb315-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Consumer ID&quot;</span>, <span class="at">values_from =</span> <span class="st">&quot;sum_Value&quot;</span>, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-46"><a href="preference-mapping.html#cb315-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="st">&quot;Attribute&quot;</span>)</span>
<span id="cb315-47"><a href="preference-mapping.html#cb315-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-48"><a href="preference-mapping.html#cb315-48" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only columns in Y</span></span>
<span id="cb315-49"><a href="preference-mapping.html#cb315-49" aria-hidden="true" tabindex="-1"></a>col_names <span class="ot">&lt;-</span> <span class="fu">names</span>(X1)</span>
<span id="cb315-50"><a href="preference-mapping.html#cb315-50" aria-hidden="true" tabindex="-1"></a>X3 <span class="ot">&lt;-</span> X3[,col_names]</span>
<span id="cb315-51"><a href="preference-mapping.html#cb315-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-52"><a href="preference-mapping.html#cb315-52" aria-hidden="true" tabindex="-1"></a><span class="co"># LPLS function only accepts matrix. Convert data frames to matrices.</span></span>
<span id="cb315-53"><a href="preference-mapping.html#cb315-53" aria-hidden="true" tabindex="-1"></a>X1_mat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X1)</span>
<span id="cb315-54"><a href="preference-mapping.html#cb315-54" aria-hidden="true" tabindex="-1"></a>X2_mat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X2)</span>
<span id="cb315-55"><a href="preference-mapping.html#cb315-55" aria-hidden="true" tabindex="-1"></a>X3_mat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X3)</span></code></pre></div>
<p>##Building the model:
The L-PLS model can be built, using the <em>lpls</em> function from the <em>multiblock</em> package.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="preference-mapping.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multiblock)</span>
<span id="cb316-2"><a href="preference-mapping.html#cb316-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb316-3"><a href="preference-mapping.html#cb316-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Scale the Z-matrix as we have semi-contious and binary data. </span></span>
<span id="cb316-4"><a href="preference-mapping.html#cb316-4" aria-hidden="true" tabindex="-1"></a>lp_exo <span class="ot">&lt;-</span> <span class="fu">lpls</span>(X1_mat,X2_mat,X3_mat,<span class="at">type =</span> <span class="st">&quot;exo&quot;</span>,<span class="at">scale =</span> <span class="fu">c</span>(F,F,T),<span class="at">doublecenter =</span> T,<span class="at">ncomp =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>###Finding the explained variance for exo L-PLS</p>
<p>The explained variance for the exo L-PLS can easily be sacked from the model object, and displayed nicely in a table using the <em>kableExtra</em> package.</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="preference-mapping.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb317-2"><a href="preference-mapping.html#cb317-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb317-3"><a href="preference-mapping.html#cb317-3" aria-hidden="true" tabindex="-1"></a>expVarExo <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.data.frame</span>(lp_exo<span class="sc">$</span>vars)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb317-4"><a href="preference-mapping.html#cb317-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(expVarExo) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Comp &quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb317-5"><a href="preference-mapping.html#cb317-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(expVarExo) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;X&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb317-6"><a href="preference-mapping.html#cb317-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-7"><a href="preference-mapping.html#cb317-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a table</span></span>
<span id="cb317-8"><a href="preference-mapping.html#cb317-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(expVarExo, <span class="at">caption =</span> <span class="st">&quot;Explained Variance by Component (%)&quot;</span>,<span class="at">digits =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb317-9"><a href="preference-mapping.html#cb317-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>(<span class="st">&quot;hover&quot;</span>,<span class="at">full_width =</span> F)</span></code></pre></div>
<table class=" lightable-paper lightable-hover" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-171">Table 16.1: </span>Explained Variance by Component (%)
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Comp 1
</th>
<th style="text-align:right;">
Comp 2
</th>
<th style="text-align:right;">
Comp 3
</th>
<th style="text-align:right;">
Comp 4
</th>
<th style="text-align:right;">
Comp 5
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
X1
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
X2
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
X3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
<p>The explained variance is first sacked from the L-PLS object, and stored in a data-frame, from where it is transposed, and converted to percentage (%).
<em>kbl</em> function is then used to get a nice table.</p>
<p>From looking at the table, one would expect the consumer descriptors to be close to origin in terms of scores. One could have a look at the endo version of the L-PLS to get a better understanding of the consumer descriptors.</p>
<p>###Cross-validation
Next let us have a look how many components we should look at, by doing a jack-knifing cross-validation on the consumers:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="preference-mapping.html#cb318-1" aria-hidden="true" tabindex="-1"></a>lp.cv2 <span class="ot">&lt;-</span> <span class="fu">lplsCV</span>(lp_exo, <span class="at">segments2 =</span> <span class="fu">as.list</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(X1)[<span class="dv">2</span>]))</span></code></pre></div>
<pre><code>## Segment 1 of 150 completed
## Segment 2 of 150 completed
## Segment 3 of 150 completed
## Segment 4 of 150 completed
## Segment 5 of 150 completed
## Segment 6 of 150 completed
## Segment 7 of 150 completed
## Segment 8 of 150 completed
## Segment 9 of 150 completed
## Segment 10 of 150 completed
## Segment 11 of 150 completed
## Segment 12 of 150 completed
## Segment 13 of 150 completed
## Segment 14 of 150 completed
## Segment 15 of 150 completed
## Segment 16 of 150 completed
## Segment 17 of 150 completed
## Segment 18 of 150 completed
## Segment 19 of 150 completed
## Segment 20 of 150 completed
## Segment 21 of 150 completed
## Segment 22 of 150 completed
## Segment 23 of 150 completed
## Segment 24 of 150 completed
## Segment 25 of 150 completed
## Segment 26 of 150 completed
## Segment 27 of 150 completed
## Segment 28 of 150 completed
## Segment 29 of 150 completed
## Segment 30 of 150 completed
## Segment 31 of 150 completed
## Segment 32 of 150 completed
## Segment 33 of 150 completed
## Segment 34 of 150 completed
## Segment 35 of 150 completed
## Segment 36 of 150 completed
## Segment 37 of 150 completed
## Segment 38 of 150 completed
## Segment 39 of 150 completed
## Segment 40 of 150 completed
## Segment 41 of 150 completed
## Segment 42 of 150 completed
## Segment 43 of 150 completed
## Segment 44 of 150 completed
## Segment 45 of 150 completed
## Segment 46 of 150 completed
## Segment 47 of 150 completed
## Segment 48 of 150 completed
## Segment 49 of 150 completed
## Segment 50 of 150 completed
## Segment 51 of 150 completed
## Segment 52 of 150 completed
## Segment 53 of 150 completed
## Segment 54 of 150 completed
## Segment 55 of 150 completed
## Segment 56 of 150 completed
## Segment 57 of 150 completed
## Segment 58 of 150 completed
## Segment 59 of 150 completed
## Segment 60 of 150 completed
## Segment 61 of 150 completed
## Segment 62 of 150 completed
## Segment 63 of 150 completed
## Segment 64 of 150 completed
## Segment 65 of 150 completed
## Segment 66 of 150 completed
## Segment 67 of 150 completed
## Segment 68 of 150 completed
## Segment 69 of 150 completed
## Segment 70 of 150 completed
## Segment 71 of 150 completed
## Segment 72 of 150 completed
## Segment 73 of 150 completed
## Segment 74 of 150 completed
## Segment 75 of 150 completed
## Segment 76 of 150 completed
## Segment 77 of 150 completed
## Segment 78 of 150 completed
## Segment 79 of 150 completed
## Segment 80 of 150 completed
## Segment 81 of 150 completed
## Segment 82 of 150 completed
## Segment 83 of 150 completed
## Segment 84 of 150 completed
## Segment 85 of 150 completed
## Segment 86 of 150 completed
## Segment 87 of 150 completed
## Segment 88 of 150 completed
## Segment 89 of 150 completed
## Segment 90 of 150 completed
## Segment 91 of 150 completed
## Segment 92 of 150 completed
## Segment 93 of 150 completed
## Segment 94 of 150 completed
## Segment 95 of 150 completed
## Segment 96 of 150 completed
## Segment 97 of 150 completed
## Segment 98 of 150 completed
## Segment 99 of 150 completed
## Segment 100 of 150 completed
## Segment 101 of 150 completed
## Segment 102 of 150 completed
## Segment 103 of 150 completed
## Segment 104 of 150 completed
## Segment 105 of 150 completed
## Segment 106 of 150 completed
## Segment 107 of 150 completed
## Segment 108 of 150 completed
## Segment 109 of 150 completed
## Segment 110 of 150 completed
## Segment 111 of 150 completed
## Segment 112 of 150 completed
## Segment 113 of 150 completed
## Segment 114 of 150 completed
## Segment 115 of 150 completed
## Segment 116 of 150 completed
## Segment 117 of 150 completed
## Segment 118 of 150 completed
## Segment 119 of 150 completed
## Segment 120 of 150 completed
## Segment 121 of 150 completed
## Segment 122 of 150 completed
## Segment 123 of 150 completed
## Segment 124 of 150 completed
## Segment 125 of 150 completed
## Segment 126 of 150 completed
## Segment 127 of 150 completed
## Segment 128 of 150 completed
## Segment 129 of 150 completed
## Segment 130 of 150 completed
## Segment 131 of 150 completed
## Segment 132 of 150 completed
## Segment 133 of 150 completed
## Segment 134 of 150 completed
## Segment 135 of 150 completed
## Segment 136 of 150 completed
## Segment 137 of 150 completed
## Segment 138 of 150 completed
## Segment 139 of 150 completed
## Segment 140 of 150 completed
## Segment 141 of 150 completed
## Segment 142 of 150 completed
## Segment 143 of 150 completed
## Segment 144 of 150 completed
## Segment 145 of 150 completed
## Segment 146 of 150 completed
## Segment 147 of 150 completed
## Segment 148 of 150 completed
## Segment 149 of 150 completed
## Segment 150 of 150 completed</code></pre>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="preference-mapping.html#cb320-1" aria-hidden="true" tabindex="-1"></a>lp.cv2<span class="sc">$</span>rmsep</span></code></pre></div>
<pre><code>##     Comp1     Comp2     Comp3     Comp4     Comp5 
## 0.6985154 0.6882824 0.6859785 0.6892245 0.6893994</code></pre>
<p>It looks like 2 components is sufficient.</p>
<p>###Vizulization
Now we would like to visuzlalize our L-PLS model. When using L-PLS for vizulization one should use the orthognoal exo, as this will give the orthogonal scores.
We build the orthogonal exo in the same way as before, but chainging the type.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="preference-mapping.html#cb322-1" aria-hidden="true" tabindex="-1"></a>lp_exo_ort <span class="ot">&lt;-</span> <span class="fu">lpls</span>(X1_mat,X2_mat,X3_mat,<span class="at">type =</span> <span class="st">&quot;exo_ort&quot;</span>,<span class="at">scale =</span> <span class="fu">c</span>(F,F,T),<span class="at">doublecenter =</span> T,<span class="at">ncomp =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>Now we plot the L-PLS model. One can chose to plot, the X1, X2 or X3 correlations, or perhaps a combination of 2, or all.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="preference-mapping.html#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb323-2"><a href="preference-mapping.html#cb323-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lp_exo,<span class="at">doplot =</span> <span class="fu">c</span>(F,F,T)) <span class="co">#X3 correlations</span></span>
<span id="cb323-3"><a href="preference-mapping.html#cb323-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lp_exo,<span class="at">doplot =</span> <span class="fu">c</span>(F,T,F)) <span class="co">#X1 correlations</span></span>
<span id="cb323-4"><a href="preference-mapping.html#cb323-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lp_exo,<span class="at">doplot =</span> <span class="fu">c</span>(T,T,F)) <span class="co">#X2 and X1 correlations</span></span>
<span id="cb323-5"><a href="preference-mapping.html#cb323-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lp_exo,<span class="at">doplot =</span> <span class="fu">c</span>(F,T,T)) <span class="co">#X1 and X3 correlations</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-174-1.png" width="672" /></p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="preference-mapping.html#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lp_exo,<span class="at">doplot =</span> <span class="fu">c</span>(T,T,T)) <span class="co">#combined</span></span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-175-1.png" width="672" /></p>
<p>From the plots, the sensory attribute <em>Berries</em> is correlated with the sensory attribute <em>Herbs</em>. These two sensory attributes is in turn correlated with the beer <em>River Beer</em>. In turn <em>River Beer</em> is opposite of the beer <em>Brown Ale</em>, which seems to be very <em>Foamy</em>. In this case our consumer background descriptors do not seem to explain a whole lot. But it does seem like a young age <em>Age 18-25</em> is associated with a low income (<em>Income 0-10.000</em>). Where a consumer of such description tends to like <em>Porse Bock</em>.</p>
<p>It is always a good idea to confirm the observed correlations by plotting the raw data. Lets have a look at some of them.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cata-and-hedonics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hedonic-rating-e.g.-liking-scores.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/edit/master/16_preferencemapping.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/16_preferencemapping.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
