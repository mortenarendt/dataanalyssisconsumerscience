<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Mixed models | Data Analysis in R for Consumer Science</title>
  <meta name="description" content="Chapter 7 Mixed models | Data Analysis in R for Consumer Science" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Mixed models | Data Analysis in R for Consumer Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Mixed models | Data Analysis in R for Consumer Science" />
  
  
  

<meta name="author" content="Morten Arendt Rasmussens" />


<meta name="date" content="2022-05-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linear-models.html"/>
<link rel="next" href="consumer-segmentation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in R for Consumer Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>2</b> Libraries</a></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a></li>
<li class="chapter" data-level="4" data-path="descriptive-statistics-and-plotting.html"><a href="descriptive-statistics-and-plotting.html"><i class="fa fa-check"></i><b>4</b> Descriptive statistics and plotting</a>
<ul>
<li class="chapter" data-level="4.1" data-path="descriptive-statistics-and-plotting.html"><a href="descriptive-statistics-and-plotting.html#distributions-of-count-data"><i class="fa fa-check"></i><b>4.1</b> Distributions of count data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="descriptive-statistics-and-plotting.html"><a href="descriptive-statistics-and-plotting.html#descriptives-for-a-continouos-variable"><i class="fa fa-check"></i><b>4.1.1</b> Descriptives for a continouos variable</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="descriptive-statistics-and-plotting.html"><a href="descriptive-statistics-and-plotting.html#scatter-plots"><i class="fa fa-check"></i><b>4.2</b> Scatter plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html"><i class="fa fa-check"></i><b>5</b> PCA on survey answers</a>
<ul>
<li class="chapter" data-level="5.1" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html#bi-plot"><i class="fa fa-check"></i><b>5.1</b> Bi-plot</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="pca-on-survey-answers.html"><a href="pca-on-survey-answers.html#extract-the-components-and-run-all-associations."><i class="fa fa-check"></i><b>5.1.1</b> Extract the components and run all associations.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>6</b> Linear models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="linear-models.html"><a href="linear-models.html#example"><i class="fa fa-check"></i><b>6.1</b> Example</a></li>
<li class="chapter" data-level="6.2" data-path="linear-models.html"><a href="linear-models.html#run-a-bunch-of-models-at-once"><i class="fa fa-check"></i><b>6.2</b> Run a bunch of models at once</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="linear-models.html"><a href="linear-models.html#a-plot"><i class="fa fa-check"></i><b>6.2.1</b> A plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="mixed-models.html"><a href="mixed-models.html"><i class="fa fa-check"></i><b>7</b> Mixed models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mixed-models.html"><a href="mixed-models.html#with-several-variables"><i class="fa fa-check"></i><b>7.1</b> With several variables</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html"><i class="fa fa-check"></i><b>8</b> Consumer Segmentation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#kmeans"><i class="fa fa-check"></i><b>8.1</b> Kmeans</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="more-pca.html"><a href="more-pca.html"><i class="fa fa-check"></i><b>9</b> More PCA</a></li>
<li class="chapter" data-level="10" data-path="pls-for-product-profiling.html"><a href="pls-for-product-profiling.html"><i class="fa fa-check"></i><b>10</b> PLS for product profiling</a></li>
<li class="chapter" data-level="11" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>11</b> Logistic Regression</a></li>
<li class="chapter" data-level="12" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html"><i class="fa fa-check"></i><b>12</b> Confirmatory Factor Analysis using lavaan</a>
<ul>
<li class="chapter" data-level="12.1" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html#example---food-neophobia"><i class="fa fa-check"></i><b>12.1</b> Example - Food Neophobia</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html"><i class="fa fa-check"></i><b>13</b> Structured Equation Modelling</a>
<ul>
<li class="chapter" data-level="13.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#example---theory-of-planned-behaviour"><i class="fa fa-check"></i><b>13.1</b> Example - Theory of Planned Behaviour</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in R for Consumer Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mixed-models" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Mixed models<a href="mixed-models.html#mixed-models" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Mixed models are used when there is repetitions in the response due to (here) the person conducting the trial.
The two days are repetitions, and hence we can use all the data (not splitting in to days), but need to account for the person in the model.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="mixed-models.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset the data</span></span>
<span id="cb52-2"><a href="mixed-models.html#cb52-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> Buffet_survey <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="mixed-models.html#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(StationName,<span class="st">&#39;mush&#39;</span>)) </span>
<span id="cb52-4"><a href="mixed-models.html#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="mixed-models.html#cb52-5" aria-hidden="true" tabindex="-1"></a>mdl <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="at">data =</span> x, Consumption<span class="sc">~</span><span class="st">`</span><span class="at">I like the taste of pasta with mushrooms! </span><span class="st">`</span> <span class="sc">+</span> Day <span class="sc">+</span>  (<span class="dv">1</span><span class="sc">|</span>Person)) </span>
<span id="cb52-6"><a href="mixed-models.html#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mdl)</span></code></pre></div>
<pre><code>## Linear mixed model fit by REML [&#39;lmerMod&#39;]
## Formula: Consumption ~ `I like the taste of pasta with mushrooms! ` +      Day + (1 | Person)
##    Data: x
## 
## REML criterion at convergence: 319.8
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.2986 -0.6573 -0.1820  0.4409  2.0326 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  Person   (Intercept) 1325     36.40   
##  Residual             4871     69.79   
## Number of obs: 30, groups:  Person, 15
## 
## Fixed effects:
##                                              Estimate Std. Error t value
## (Intercept)                                   -56.368    142.864  -0.395
## `I like the taste of pasta with mushrooms! `   30.552     21.146   1.445
## Day                                            -4.097     25.523  -0.161</code></pre>
<pre><code>## Warning in abbreviate(rn, minlength = 11): abbreviate used with non-ASCII chars</code></pre>
<pre><code>## 
## Correlation of Fixed Effects:</code></pre>
<pre><code>## Warning in abbreviate(rn, minlength = 6): abbreviate used with non-ASCII chars</code></pre>
<pre><code>##             (Intr) `lttpwm
## `Iltt pwm!  -0.957        
## Day         -0.320  0.055</code></pre>
<p>This is the joint effect between the two days. Think of an average of the two slopes - one for each day -. Here taking into account that each person has provided two responses of the consumption of pasta with mushrooms.</p>
<p>This can also be accomplised using the tidyverse setup engined by the broom.mixed package.</p>
<p>In principle, we simply do not loop over Day, but include it in the formula along with person.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="mixed-models.html#cb58-1" aria-hidden="true" tabindex="-1"></a>tbmixed <span class="ot">&lt;-</span> Surveylong_buffet <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="mixed-models.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(StationName )) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="mixed-models.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(StationName,question) <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="mixed-models.html#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="fu">lmer</span>(<span class="at">data =</span> ., Consumption<span class="sc">~</span>answnum <span class="sc">+</span> Day <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>Person)) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>(<span class="at">conf.int =</span> T))</span></code></pre></div>
<p>The output here is a bit different than the lm() model. But it is still the slope of answnum which carries the interesting stuff.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="mixed-models.html#cb59-1" aria-hidden="true" tabindex="-1"></a>tbmixed <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="mixed-models.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&#39;answnum&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="mixed-models.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>effect,<span class="sc">-</span>group) <span class="sc">%&gt;%</span> </span>
<span id="cb59-4"><a href="mixed-models.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="at">x =</span> .,<span class="at">caption =</span> <span class="st">&#39;All mixed linear models&#39;</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table style="width:100%;">
<caption><span id="tab:unnamed-chunk-33">Table 7.1: </span>All mixed linear models</caption>
<colgroup>
<col width="15%" />
<col width="40%" />
<col width="6%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">StationName</th>
<th align="left">question</th>
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pasta with legumes</td>
<td align="left">I like the taste of pasta with legumes! </td>
<td align="left">answnum</td>
<td align="right">37.17</td>
<td align="right">11.37</td>
<td align="right">3.27</td>
<td align="right">14.88</td>
<td align="right">59.45</td>
</tr>
<tr class="even">
<td align="left">Pasta with legumes</td>
<td align="left">I like the taste of pasta with mushrooms! </td>
<td align="left">answnum</td>
<td align="right">30.95</td>
<td align="right">23.93</td>
<td align="right">1.29</td>
<td align="right">-15.95</td>
<td align="right">77.85</td>
</tr>
<tr class="odd">
<td align="left">Pasta with legumes</td>
<td align="left">Pasta with legumes is visually appealing to me. </td>
<td align="left">answnum</td>
<td align="right">13.60</td>
<td align="right">13.12</td>
<td align="right">1.04</td>
<td align="right">-12.11</td>
<td align="right">39.30</td>
</tr>
<tr class="even">
<td align="left">Pasta with legumes</td>
<td align="left">Pasta with mushrooms is visually appealing to me. </td>
<td align="left">answnum</td>
<td align="right">-7.68</td>
<td align="right">19.63</td>
<td align="right">-0.39</td>
<td align="right">-46.15</td>
<td align="right">30.79</td>
</tr>
<tr class="odd">
<td align="left">Pasta with mushroom</td>
<td align="left">I like the taste of pasta with legumes! </td>
<td align="left">answnum</td>
<td align="right">2.08</td>
<td align="right">11.29</td>
<td align="right">0.18</td>
<td align="right">-20.04</td>
<td align="right">24.21</td>
</tr>
<tr class="even">
<td align="left">Pasta with mushroom</td>
<td align="left">I like the taste of pasta with mushrooms! </td>
<td align="left">answnum</td>
<td align="right">30.55</td>
<td align="right">21.15</td>
<td align="right">1.44</td>
<td align="right">-10.89</td>
<td align="right">72.00</td>
</tr>
<tr class="odd">
<td align="left">Pasta with mushroom</td>
<td align="left">Pasta with legumes is visually appealing to me. </td>
<td align="left">answnum</td>
<td align="right">10.26</td>
<td align="right">11.21</td>
<td align="right">0.91</td>
<td align="right">-11.72</td>
<td align="right">32.24</td>
</tr>
<tr class="even">
<td align="left">Pasta with mushroom</td>
<td align="left">Pasta with mushrooms is visually appealing to me. </td>
<td align="left">answnum</td>
<td align="right">8.16</td>
<td align="right">16.73</td>
<td align="right">0.49</td>
<td align="right">-24.63</td>
<td align="right">40.94</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="mixed-models.html#cb60-1" aria-hidden="true" tabindex="-1"></a>tbmixed <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="mixed-models.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&#39;answnum&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="mixed-models.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(question,estimate,<span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high)) <span class="sc">+</span> </span>
<span id="cb60-4"><a href="mixed-models.html#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span><span class="fu">geom_point</span>()<span class="sc">+</span> </span>
<span id="cb60-5"><a href="mixed-models.html#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb60-6"><a href="mixed-models.html#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span><span class="fu">facet_grid</span>(<span class="sc">~</span>StationName) <span class="sc">+</span> </span>
<span id="cb60-7"><a href="mixed-models.html#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;bottom&#39;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>Do the associations match as expected?</p>
<div id="with-several-variables" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> With several variables<a href="mixed-models.html#with-several-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can add several predictors to the model, here that could several likert-scale questions, and maybe demographics with the consumption as response.
This is in principle the same for both linear models and linear mixed models.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="mixed-models.html#cb61-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> Buffet_survey <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="mixed-models.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(StationName,<span class="st">&#39;mush&#39;</span>))</span>
<span id="cb61-3"><a href="mixed-models.html#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="mixed-models.html#cb61-4" aria-hidden="true" tabindex="-1"></a>mdl <span class="ot">&lt;-</span> <span class="fu">lmer</span>(<span class="at">data =</span> x, Consumption<span class="sc">~</span><span class="st">`</span><span class="at">I like the taste of pasta with mushrooms! </span><span class="st">`</span> <span class="sc">+</span> </span>
<span id="cb61-5"><a href="mixed-models.html#cb61-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">`</span><span class="at">Pasta with mushrooms is visually appealing to me. </span><span class="st">`</span> <span class="sc">+</span> Day <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>Person))</span>
<span id="cb61-6"><a href="mixed-models.html#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="mixed-models.html#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mdl)</span></code></pre></div>
<pre><code>## Linear mixed model fit by REML [&#39;lmerMod&#39;]
## Formula: Consumption ~ `I like the taste of pasta with mushrooms! ` +      `Pasta with mushrooms is visually appealing to me. ` +      Day + (1 | Person)
##    Data: x
## 
## REML criterion at convergence: 311.5
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.1024 -0.6475 -0.2450  0.4295  2.0689 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  Person   (Intercept) 1168     34.18   
##  Residual             5144     71.73   
## Number of obs: 30, groups:  Person, 15
## 
## Fixed effects:
##                                                      Estimate Std. Error t value
## (Intercept)                                           -41.738    146.340  -0.285
## `I like the taste of pasta with mushrooms! `           41.162     27.855   1.478
## `Pasta with mushrooms is visually appealing to me. `  -12.242     20.899  -0.586
## Day                                                    -8.286     27.189  -0.305</code></pre>
<pre><code>## Warning in abbreviate(rn, minlength = 11): abbreviate used with non-ASCII chars</code></pre>
<pre><code>## 
## Correlation of Fixed Effects:</code></pre>
<pre><code>## Warning in abbreviate(rn, minlength = 6): abbreviate used with non-ASCII chars</code></pre>
<pre><code>##             (Intr) `lttpwm `wmvatm
## `Iltt pwm!  -0.605                
## `Pwm vatm ` -0.177 -0.645         
## Day         -0.354 -0.130   0.263</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="mixed-models.html#cb67-1" aria-hidden="true" tabindex="-1"></a>mdl <span class="sc">%&gt;%</span> <span class="fu">tidy</span>(<span class="at">conf.int =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 8
##   effect   group    term                                                 estimate std.error statistic conf.low conf.high
##   &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;                                                   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 fixed    &lt;NA&gt;     (Intercept)                                            -41.7      146.     -0.285   -329.      245. 
## 2 fixed    &lt;NA&gt;     `I like the taste of pasta with mushrooms! `            41.2       27.9     1.48     -13.4      95.8
## 3 fixed    &lt;NA&gt;     `Pasta with mushrooms is visually appealing to me. `   -12.2       20.9    -0.586    -53.2      28.7
## 4 fixed    &lt;NA&gt;     Day                                                     -8.29      27.2    -0.305    -61.6      45.0
## 5 ran_pars Person   sd__(Intercept)                                         34.2       NA      NA         NA        NA  
## 6 ran_pars Residual sd__Observation                                         71.7       NA      NA         NA        NA</code></pre>
<p>Try to interpret the slopes? Are the slopes significantly different from 0 (i.e. the point of no association). .. And hey! Why is the slope for visual all of a sudden negative?… Does that mean that consumption increase the less you like the visual appearance? .. Or what?</p>
<p>Complete the same analysis with legumes.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linear-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="consumer-segmentation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/edit/master/03_Pasta_mushroom_legume_lm.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/03_Pasta_mushroom_legume_lm.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
