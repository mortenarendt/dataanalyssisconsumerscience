<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction to R | Data Analysis in R for Sensory and Consumer Science</title>
  <meta name="description" content="Chapter 2 Introduction to R | Data Analysis in R for Sensory and Consumer Science" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction to R | Data Analysis in R for Sensory and Consumer Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction to R | Data Analysis in R for Sensory and Consumer Science" />
  
  
  

<meta name="author" content="Morten Arendt Rasmussen, Julius Jessen Terp, Mads RÃ¸nnow Staffe, Helene C. Reinbach and Bodil H. Allesen-Holm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="libraries.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.28/datatables.js"></script>
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analysis in R for Consumer Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction to the book</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-get-started---understanding-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> How to get started - understanding R (and RStudio)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#organise-and-save-scripts"><i class="fa fa-check"></i><b>2.1.1</b> Organise and save scripts</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-import-data"><i class="fa fa-check"></i><b>2.2</b> How to import data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#import-data-from-r-package"><i class="fa fa-check"></i><b>2.2.1</b> Import data from R-package</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-a-csv-file"><i class="fa fa-check"></i><b>2.2.2</b> Importing a csv file</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#importing-an-excel-filesheet"><i class="fa fa-check"></i><b>2.2.3</b> Importing an Excel file/sheet</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#clipboard-import"><i class="fa fa-check"></i><b>2.2.4</b> Clipboard import</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#looking-at-the-imported-elements"><i class="fa fa-check"></i><b>2.2.5</b> Looking at the imported elements</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#numbers-and-factors---changing-categorisation"><i class="fa fa-check"></i><b>2.2.6</b> Numbers and factors - changing categorisation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-edit-and-merge-datasets"><i class="fa fa-check"></i><b>2.3</b> How to edit and merge datasets</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#edit-using-tidyverse"><i class="fa fa-check"></i><b>2.3.1</b> Edit using Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-save-the-data"><i class="fa fa-check"></i><b>2.4</b> How to save the data</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-export-data-results-to-excel-and-the-like"><i class="fa fa-check"></i><b>2.5</b> How to export data / results to Excel and the like</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-load-your-rdata"><i class="fa fa-check"></i><b>2.6</b> How to load your RData</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-clear-your-environment"><i class="fa fa-check"></i><b>2.7</b> How to clear your environment</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-r-project"><i class="fa fa-check"></i><b>2.8</b> How to R project</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#how-to-create-an-r-project"><i class="fa fa-check"></i><b>2.8.1</b> How to Create an R Project</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="libraries.html"><a href="libraries.html"><i class="fa fa-check"></i><b>3</b> Libraries</a></li>
<li class="chapter" data-level="4" data-path="plotting-data.html"><a href="plotting-data.html"><i class="fa fa-check"></i><b>4</b> Plotting data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="plotting-data.html"><a href="plotting-data.html#histograms-and-boxplots"><i class="fa fa-check"></i><b>4.1</b> Histograms and boxplots</a></li>
<li class="chapter" data-level="4.2" data-path="plotting-data.html"><a href="plotting-data.html#scatter-plots"><i class="fa fa-check"></i><b>4.2</b> Scatter plots</a></li>
<li class="chapter" data-level="4.3" data-path="plotting-data.html"><a href="plotting-data.html#how-to-export-plots"><i class="fa fa-check"></i><b>4.3</b> How to export plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>5</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#descriptives-for-a-continuous-variable"><i class="fa fa-check"></i><b>5.1</b> Descriptives for a continuous variable</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mean-median"><i class="fa fa-check"></i><b>5.1.1</b> Mean / median</a></li>
<li class="chapter" data-level="5.1.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#variance"><i class="fa fa-check"></i><b>5.1.2</b> Variance</a></li>
<li class="chapter" data-level="5.1.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>5.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="5.1.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#calculations"><i class="fa fa-check"></i><b>5.1.4</b> Calculations</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#distributions-of-count-data"><i class="fa fa-check"></i><b>5.2</b> Distributions of count data</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#aggregate"><i class="fa fa-check"></i><b>5.3</b> Aggregate</a></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#tidyverse"><i class="fa fa-check"></i><b>5.4</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inferential-statistics.html"><a href="inferential-statistics.html"><i class="fa fa-check"></i><b>6</b> Inferential statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#intro"><i class="fa fa-check"></i><b>6.1</b> Intro</a></li>
<li class="chapter" data-level="6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-testing"><i class="fa fa-check"></i><b>6.2</b> Hypothesis testing</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#power"><i class="fa fa-check"></i><b>6.2.1</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>6.3</b> Confidence intervals</a></li>
<li class="chapter" data-level="6.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#t-test"><i class="fa fa-check"></i><b>6.4</b> T-test</a></li>
<li class="chapter" data-level="6.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#f-test"><i class="fa fa-check"></i><b>6.5</b> F-test</a></li>
<li class="chapter" data-level="6.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>6.6</b> Analysis of Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#one-way-anova"><i class="fa fa-check"></i><b>6.6.1</b> One-way ANOVA</a></li>
<li class="chapter" data-level="6.6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#two-way-anova"><i class="fa fa-check"></i><b>6.6.2</b> Two-way ANOVA</a></li>
<li class="chapter" data-level="6.6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#post-hoc-test---tukeys-honest-significant-difference"><i class="fa fa-check"></i><b>6.6.3</b> Post hoc test - Tukeyâs Honest Significant Difference</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="inferential-statistics.html"><a href="inferential-statistics.html#introduction-to-linear-and-mixed-models"><i class="fa fa-check"></i><b>6.7</b> Introduction to linear and mixed models</a></li>
<li class="chapter" data-level="6.8" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-and-mixed-models"><i class="fa fa-check"></i><b>6.8</b> Normal and Mixed models</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#normal-model"><i class="fa fa-check"></i><b>6.8.1</b> Normal model</a></li>
<li class="chapter" data-level="6.8.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#mixed-model"><i class="fa fa-check"></i><b>6.8.2</b> Mixed model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html"><i class="fa fa-check"></i><b>7</b> Introduction to PCA and multivariate data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#a-bit-of-math"><i class="fa fa-check"></i><b>7.1</b> A bit of math</a></li>
<li class="chapter" data-level="7.2" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#interpreting-model-output"><i class="fa fa-check"></i><b>7.2</b> Interpreting model output</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="introduction-to-pca-and-multivariate-data.html"><a href="introduction-to-pca-and-multivariate-data.html#biplot"><i class="fa fa-check"></i><b>7.2.1</b> Biplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html"><i class="fa fa-check"></i><b>8</b> Buffet and survey data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#buffet-data"><i class="fa fa-check"></i><b>8.1</b> Buffet data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#introduction-to-buffet-data"><i class="fa fa-check"></i><b>8.1.1</b> Introduction to buffet data</a></li>
<li class="chapter" data-level="8.1.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-buffet-data"><i class="fa fa-check"></i><b>8.1.2</b> Plotting buffet data</a></li>
<li class="chapter" data-level="8.1.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#mixed-model-for-buffet-data"><i class="fa fa-check"></i><b>8.1.3</b> Mixed model for buffet data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#survey-data"><i class="fa fa-check"></i><b>8.2</b> Survey data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#plotting-survey-data"><i class="fa fa-check"></i><b>8.2.1</b> Plotting survey data</a></li>
<li class="chapter" data-level="8.2.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#linear-model-for-buffet-data"><i class="fa fa-check"></i><b>8.2.2</b> Linear model for buffet data</a></li>
<li class="chapter" data-level="8.2.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#post-hoc-test-for-survey-data"><i class="fa fa-check"></i><b>8.2.3</b> Post-hoc test for survey data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#combining-consumption-and-survey-data"><i class="fa fa-check"></i><b>8.3</b> Combining consumption and survey data</a></li>
<li class="chapter" data-level="8.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#pca-on-survey-answers"><i class="fa fa-check"></i><b>8.4</b> PCA on survey answers</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#wrangle-data"><i class="fa fa-check"></i><b>8.4.1</b> Wrangle data</a></li>
<li class="chapter" data-level="8.4.2" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#build-the-model"><i class="fa fa-check"></i><b>8.4.2</b> Build the model</a></li>
<li class="chapter" data-level="8.4.3" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#bi-plot"><i class="fa fa-check"></i><b>8.4.3</b> Bi-plot</a></li>
<li class="chapter" data-level="8.4.4" data-path="buffet-and-survey-data.html"><a href="buffet-and-survey-data.html#extract-the-components-and-run-all-associations."><i class="fa fa-check"></i><b>8.4.4</b> Extract the components and run all associations.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mst-exercises.html"><a href="mst-exercises.html"><i class="fa fa-check"></i><b>9</b> MST exercises</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-1---cleaning-compusense-data-with-r"><i class="fa fa-check"></i><b>9.1</b> Exercise 1 - cleaning Compusense data with R</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-1---solution"><i class="fa fa-check"></i><b>9.1.1</b> Exercise 1 - Solution</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-2---creating-a-tableone-and-visualization"><i class="fa fa-check"></i><b>9.2</b> Exercise 2 - creating a tableone and visualization</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-2---solution"><i class="fa fa-check"></i><b>9.2.1</b> Exercise 2 - solution</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-3---creating-an-outcome-table"><i class="fa fa-check"></i><b>9.3</b> Exercise 3 - Creating an outcome table</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="mst-exercises.html"><a href="mst-exercises.html#exercise-3---solution"><i class="fa fa-check"></i><b>9.3.1</b> Exercise 3 - Solution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html"><i class="fa fa-check"></i><b>10</b> Intro to large survey data</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#looking-at-the-data-and-checking-formating"><i class="fa fa-check"></i><b>10.0.1</b> Looking at the data and checking formating</a></li>
<li class="chapter" data-level="10.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>10.1</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#numeric-values"><i class="fa fa-check"></i><b>10.1.1</b> Numeric values</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#plots"><i class="fa fa-check"></i><b>10.2</b> Plots</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#within-groups-of-data"><i class="fa fa-check"></i><b>10.2.1</b> Within groups of data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#categorical-ordinal-variables"><i class="fa fa-check"></i><b>10.3</b> Categorical / Ordinal variables</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#tables"><i class="fa fa-check"></i><b>10.3.1</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#table-1"><i class="fa fa-check"></i><b>10.4</b> Table 1</a></li>
<li class="chapter" data-level="10.5" data-path="intro-to-large-survey-data.html"><a href="intro-to-large-survey-data.html#the-tidyverse-way"><i class="fa fa-check"></i><b>10.5</b> The tidyverse way</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html"><i class="fa fa-check"></i><b>11</b> Consumer segmentation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation"><i class="fa fa-check"></i><b>11.1</b> Segmentation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#using-k-means-for-clustering"><i class="fa fa-check"></i><b>11.1.1</b> Using K-means for clustering</a></li>
<li class="chapter" data-level="11.1.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#initial-characterization-of-clusters"><i class="fa fa-check"></i><b>11.1.2</b> Initial characterization of clusters</a></li>
<li class="chapter" data-level="11.1.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#vizualization-of-the-clusters"><i class="fa fa-check"></i><b>11.1.3</b> Vizualization of the clusters</a></li>
<li class="chapter" data-level="11.1.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#sums-of-squares-from-the-clustering"><i class="fa fa-check"></i><b>11.1.4</b> Sums of Squares from the clustering</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#selecting-the-number-of-clusters---a-data-driven-approach"><i class="fa fa-check"></i><b>11.2</b> Selecting the number of clusters - a data-driven approach</a></li>
<li class="chapter" data-level="11.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#segmentation---another-example"><i class="fa fa-check"></i><b>11.3</b> Segmentation - another example</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#cluster-analysis"><i class="fa fa-check"></i><b>11.3.1</b> Cluster analysis</a></li>
<li class="chapter" data-level="11.3.2" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#plot-the-model-using-pca"><i class="fa fa-check"></i><b>11.3.2</b> Plot the model using PCA</a></li>
<li class="chapter" data-level="11.3.3" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#add-to-dataset"><i class="fa fa-check"></i><b>11.3.3</b> Add to dataset</a></li>
<li class="chapter" data-level="11.3.4" data-path="consumer-segmentation.html"><a href="consumer-segmentation.html#comments"><i class="fa fa-check"></i><b>11.3.4</b> Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="profiling-segments.html"><a href="profiling-segments.html"><i class="fa fa-check"></i><b>12</b> Profiling segments</a>
<ul>
<li class="chapter" data-level="12.1" data-path="profiling-segments.html"><a href="profiling-segments.html#table-1-as-a-profiling-tool"><i class="fa fa-check"></i><b>12.1</b> Table 1 as a profiling tool</a></li>
<li class="chapter" data-level="12.2" data-path="profiling-segments.html"><a href="profiling-segments.html#visualization-of-consumer-segments"><i class="fa fa-check"></i><b>12.2</b> Visualization of Consumer Segments</a></li>
<li class="chapter" data-level="12.3" data-path="profiling-segments.html"><a href="profiling-segments.html#creating-the-contingency-table"><i class="fa fa-check"></i><b>12.3</b> Creating the contingency table</a></li>
<li class="chapter" data-level="12.4" data-path="profiling-segments.html"><a href="profiling-segments.html#plot-the-numbers"><i class="fa fa-check"></i><b>12.4</b> Plot the numbers</a></li>
<li class="chapter" data-level="12.5" data-path="profiling-segments.html"><a href="profiling-segments.html#contingency-table"><i class="fa fa-check"></i><b>12.5</b> Contingency table</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="profiling-segments.html"><a href="profiling-segments.html#pearson-chi-square-test"><i class="fa fa-check"></i><b>12.5.1</b> Pearson Chi-square test</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="profiling-segments.html"><a href="profiling-segments.html#correspondence-analysis"><i class="fa fa-check"></i><b>12.6</b> Correspondence Analysis</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression.html"><a href="logistic-regression.html#segmentationclustering"><i class="fa fa-check"></i><b>13.1</b> Segmentation/Clustering</a></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression.html"><a href="logistic-regression.html#fitting-the-logistic-regression-model"><i class="fa fa-check"></i><b>13.2</b> Fitting the logistic regression-model</a></li>
<li class="chapter" data-level="13.3" data-path="logistic-regression.html"><a href="logistic-regression.html#probabilities-of-segment-membership"><i class="fa fa-check"></i><b>13.3</b> Probabilities of segment membership:</a></li>
<li class="chapter" data-level="13.4" data-path="logistic-regression.html"><a href="logistic-regression.html#odds-ratios"><i class="fa fa-check"></i><b>13.4</b> Odds ratios</a></li>
<li class="chapter" data-level="13.5" data-path="logistic-regression.html"><a href="logistic-regression.html#ors-and-probs"><i class="fa fa-check"></i><b>13.5</b> ORs and Probs</a></li>
<li class="chapter" data-level="13.6" data-path="logistic-regression.html"><a href="logistic-regression.html#effect-of-age"><i class="fa fa-check"></i><b>13.6</b> Effect of Age</a></li>
<li class="chapter" data-level="13.7" data-path="logistic-regression.html"><a href="logistic-regression.html#multivariate-analysis"><i class="fa fa-check"></i><b>13.7</b> Multivariate analysis</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="logistic-regression.html"><a href="logistic-regression.html#descriptives"><i class="fa fa-check"></i><b>13.7.1</b> Descriptives</a></li>
<li class="chapter" data-level="13.7.2" data-path="logistic-regression.html"><a href="logistic-regression.html#two-nested-models"><i class="fa fa-check"></i><b>13.7.2</b> Two nested models</a></li>
<li class="chapter" data-level="13.7.3" data-path="logistic-regression.html"><a href="logistic-regression.html#coefficients"><i class="fa fa-check"></i><b>13.7.3</b> Coefficients</a></li>
<li class="chapter" data-level="13.7.4" data-path="logistic-regression.html"><a href="logistic-regression.html#re-level"><i class="fa fa-check"></i><b>13.7.4</b> Re-level</a></li>
<li class="chapter" data-level="13.7.5" data-path="logistic-regression.html"><a href="logistic-regression.html#all-pairwise-comparisons"><i class="fa fa-check"></i><b>13.7.5</b> All pairwise comparisons</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="logistic-regression.html"><a href="logistic-regression.html#segment-2-and-3"><i class="fa fa-check"></i><b>13.8</b> Segment 2 and 3</a></li>
<li class="chapter" data-level="13.9" data-path="logistic-regression.html"><a href="logistic-regression.html#a-new-set-of-data"><i class="fa fa-check"></i><b>13.9</b> A new set of data</a></li>
<li class="chapter" data-level="13.10" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-for-demographic-characterization"><i class="fa fa-check"></i><b>13.10</b> Logistic regression for demographic characterization</a>
<ul>
<li class="chapter" data-level="13.10.1" data-path="logistic-regression.html"><a href="logistic-regression.html#age"><i class="fa fa-check"></i><b>13.10.1</b> Age</a></li>
<li class="chapter" data-level="13.10.2" data-path="logistic-regression.html"><a href="logistic-regression.html#gender"><i class="fa fa-check"></i><b>13.10.2</b> Gender</a></li>
</ul></li>
<li class="chapter" data-level="13.11" data-path="logistic-regression.html"><a href="logistic-regression.html#task"><i class="fa fa-check"></i><b>13.11</b> TASK</a></li>
<li class="chapter" data-level="13.12" data-path="logistic-regression.html"><a href="logistic-regression.html#the-tidyverse-way-1"><i class="fa fa-check"></i><b>13.12</b> The tidyverse way</a></li>
<li class="chapter" data-level="13.13" data-path="logistic-regression.html"><a href="logistic-regression.html#comment"><i class="fa fa-check"></i><b>13.13</b> Comment</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html"><i class="fa fa-check"></i><b>14</b> CATA data (Check-All-That-Apply)</a>
<ul>
<li class="chapter" data-level="14.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#importing-and-looking-at-the-beer-data"><i class="fa fa-check"></i><b>14.1</b> Importing and looking at the beer data</a></li>
<li class="chapter" data-level="14.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#two-versions-of-the-data"><i class="fa fa-check"></i><b>14.2</b> Two versions of the data</a></li>
<li class="chapter" data-level="14.3" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#cochrans-q-test"><i class="fa fa-check"></i><b>14.3</b> Cochranâs Q test</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#post-hoc-test"><i class="fa fa-check"></i><b>14.3.1</b> Post hoc test</a></li>
<li class="chapter" data-level="14.3.2" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#for-all-attributes-in-one-run-nice-to-know"><i class="fa fa-check"></i><b>14.3.2</b> For all attributes in one run (nice to know)</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="cata-data-check-all-that-apply.html"><a href="cata-data-check-all-that-apply.html#pca-on-cata-data"><i class="fa fa-check"></i><b>14.4</b> PCA on CATA data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html"><i class="fa fa-check"></i><b>15</b> Hedonic rating (e.g.Â liking scores)</a>
<ul>
<li class="chapter" data-level="15.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#plotting-liking-scores"><i class="fa fa-check"></i><b>15.1</b> Plotting liking scores</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#pca-of-hedonic-ratings"><i class="fa fa-check"></i><b>15.1.1</b> PCA of hedonic ratings</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#simple-mixed-models"><i class="fa fa-check"></i><b>15.2</b> Simple mixed models</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#post-hoc-test-1"><i class="fa fa-check"></i><b>15.2.1</b> Post hoc test</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#multivariable-models"><i class="fa fa-check"></i><b>15.3</b> Multivariable models</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#additive-models"><i class="fa fa-check"></i><b>15.3.1</b> Additive models</a></li>
<li class="chapter" data-level="15.3.2" data-path="hedonic-rating-e.g.-liking-scores.html"><a href="hedonic-rating-e.g.-liking-scores.html#effect-modification-and-interactions"><i class="fa fa-check"></i><b>15.3.2</b> Effect modification and Interactions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html"><i class="fa fa-check"></i><b>16</b> CATA and Hedonics</a>
<ul>
<li class="chapter" data-level="16.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#individual-attributes-and-liking"><i class="fa fa-check"></i><b>16.1</b> Individual attributes and liking</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#an-example-with-refreshing"><i class="fa fa-check"></i><b>16.1.1</b> An example with Refreshing</a></li>
<li class="chapter" data-level="16.1.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#all-attributes"><i class="fa fa-check"></i><b>16.1.2</b> All attributes</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pca-on-cata-and-liking"><i class="fa fa-check"></i><b>16.2</b> PCA on CATA and Liking</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#a-beer-centric-model"><i class="fa fa-check"></i><b>16.2.1</b> A beer centric model</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#analysis-by-pls"><i class="fa fa-check"></i><b>16.3</b> Analysis by PLS</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pls-basics"><i class="fa fa-check"></i><b>16.3.1</b> PLS basics</a></li>
<li class="chapter" data-level="16.3.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#pls-to-predict-liking-based-on-cata-data"><i class="fa fa-check"></i><b>16.3.2</b> PLS to predict liking based on CATA data</a></li>
<li class="chapter" data-level="16.3.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#regression-coefficients"><i class="fa fa-check"></i><b>16.3.3</b> Regression coefficients</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#l-pls"><i class="fa fa-check"></i><b>16.4</b> L-PLS</a></li>
<li class="chapter" data-level="16.5" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#creating-x1-x2-x3."><i class="fa fa-check"></i><b>16.5</b> Creating X1, X2, X3.</a></li>
<li class="chapter" data-level="16.6" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#building-the-model-the-l-pls-model-can-be-built-using-the-lpls"><i class="fa fa-check"></i><b>16.6</b> Building the model: The L-PLS model can be built, using the <em>lpls</em></a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#finding-the-explained-variance-for-exo-l-pls"><i class="fa fa-check"></i><b>16.6.1</b> Finding the explained variance for exo L-PLS</a></li>
<li class="chapter" data-level="16.6.2" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#cross-validation-next-let-us-have-a-look-how-many-components-we"><i class="fa fa-check"></i><b>16.6.2</b> Cross-validation Next let us have a look how many components we</a></li>
<li class="chapter" data-level="16.6.3" data-path="cata-and-hedonics.html"><a href="cata-and-hedonics.html#vizulization-now-we-would-like-to-visuzlalize-our-l-pls-model.-when"><i class="fa fa-check"></i><b>16.6.3</b> Vizulization Now we would like to visuzlalize our L-PLS model. When</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="projective-mapping.html"><a href="projective-mapping.html"><i class="fa fa-check"></i><b>17</b> Projective mapping</a>
<ul>
<li class="chapter" data-level="17.1" data-path="projective-mapping.html"><a href="projective-mapping.html#example-from-mapping-of-xx"><i class="fa fa-check"></i><b>17.1</b> Example from mapping of XX</a></li>
<li class="chapter" data-level="17.2" data-path="projective-mapping.html"><a href="projective-mapping.html#a-collated-version-of-the-data"><i class="fa fa-check"></i><b>17.2</b> A Collated version of the data</a></li>
<li class="chapter" data-level="17.3" data-path="projective-mapping.html"><a href="projective-mapping.html#pca-on-collated-data"><i class="fa fa-check"></i><b>17.3</b> PCA on Collated data</a></li>
<li class="chapter" data-level="17.4" data-path="projective-mapping.html"><a href="projective-mapping.html#section"><i class="fa fa-check"></i><b>17.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="tfih-exercises.html"><a href="tfih-exercises.html"><i class="fa fa-check"></i><b>18</b> TFIH Exercises</a>
<ul>
<li class="chapter" data-level="18.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-1-descriptive-statistics-and-plots"><i class="fa fa-check"></i><b>18.1</b> Exercise 1: Descriptive statistics and plots</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#cata-counts"><i class="fa fa-check"></i><b>18.1.1</b> CATA counts</a></li>
<li class="chapter" data-level="18.1.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#hedonics"><i class="fa fa-check"></i><b>18.1.2</b> Hedonics</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-2-consumer-background-and-pca"><i class="fa fa-check"></i><b>18.2</b> Exercise 2: Consumer background and PCA</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#demographics"><i class="fa fa-check"></i><b>18.2.1</b> Demographics</a></li>
<li class="chapter" data-level="18.2.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-interests"><i class="fa fa-check"></i><b>18.2.2</b> PCA on <em>Interests</em></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-3-pca-on-cata-counts"><i class="fa fa-check"></i><b>18.3</b> Exercise 3: PCA on CATA counts</a></li>
<li class="chapter" data-level="18.4" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-4-cochrans-q-test-on-cata-binary-data"><i class="fa fa-check"></i><b>18.4</b> Exercise 4: Cochranâs Q test on CATA binary data</a></li>
<li class="chapter" data-level="18.5" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-5-hedonic-ratings-and-consumer-characteristics"><i class="fa fa-check"></i><b>18.5</b> Exercise 5: Hedonic ratings and consumer characteristics</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="tfih-exercises.html"><a href="tfih-exercises.html#pca-on-joint-data"><i class="fa fa-check"></i><b>18.5.1</b> PCA on joint data</a></li>
<li class="chapter" data-level="18.5.2" data-path="tfih-exercises.html"><a href="tfih-exercises.html#all-demographics"><i class="fa fa-check"></i><b>18.5.2</b> All demographics</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-6-pca-on-cata-counts-and-hedonic-ratings"><i class="fa fa-check"></i><b>18.6</b> Exercise 6: PCA on CATA counts and hedonic ratings</a></li>
<li class="chapter" data-level="18.7" data-path="tfih-exercises.html"><a href="tfih-exercises.html#exercise-7-mixed-modelling-on-hedonic-ratings"><i class="fa fa-check"></i><b>18.7</b> Exercise 7: Mixed modelling on hedonic ratings</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="chapters-to-appear.html"><a href="chapters-to-appear.html"><i class="fa fa-check"></i><b>19</b> CHAPTERS to APPEAR</a></li>
<li class="chapter" data-level="20" data-path="latent-factor-models.html"><a href="latent-factor-models.html"><i class="fa fa-check"></i><b>20</b> Latent Factor Models</a></li>
<li class="chapter" data-level="21" data-path="lpls.html"><a href="lpls.html"><i class="fa fa-check"></i><b>21</b> LPLS</a></li>
<li class="chapter" data-level="22" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html"><i class="fa fa-check"></i><b>22</b> Confirmatory Factor Analysis using lavaan</a>
<ul>
<li class="chapter" data-level="22.1" data-path="confirmatory-factor-analysis-using-lavaan.html"><a href="confirmatory-factor-analysis-using-lavaan.html#example---food-neophobia"><i class="fa fa-check"></i><b>22.1</b> Example - Food Neophobia</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html"><i class="fa fa-check"></i><b>23</b> Structured Equation Modelling</a>
<ul>
<li class="chapter" data-level="23.1" data-path="structured-equation-modelling.html"><a href="structured-equation-modelling.html#example---theory-of-planned-behaviour"><i class="fa fa-check"></i><b>23.1</b> Example - Theory of Planned Behaviour</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="plsda-on-cata-and-liking.html"><a href="plsda-on-cata-and-liking.html"><i class="fa fa-check"></i><b>24</b> PLSDA on CATA and liking</a></li>
<li class="chapter" data-level="25" data-path="text-mining-of-comsumer-reviews.html"><a href="text-mining-of-comsumer-reviews.html"><i class="fa fa-check"></i><b>25</b> Text mining of comsumer reviews</a></li>
<li class="chapter" data-level="26" data-path="text-mining-of-open-ended-survey-responses.html"><a href="text-mining-of-open-ended-survey-responses.html"><i class="fa fa-check"></i><b>26</b> Text mining of open-ended survey responses</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis in R for Sensory and Consumer Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Introduction to R<a href="introduction-to-r.html#introduction-to-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>R is a free software with a complete programming language for statistical computing and graphics. It is used at many universities and companies since it is always updated and open source.</p>
<p>Before staring your calculations in R you should always update the R version on your computer. You can install a graphical interface for R, called R studio. It will use the underlying version of R on your computer â so you have to have R installed too. The principles by R and R Studio are the same â BUT R Studio has a better interface for non-programmers. Both R and R Studio can be used on all types of computers.</p>
<p>R is command-line based and it provides a wide variety of statistical methods (linear and nonlinear modelling, classical statistical tests, classification, clustering, â¦). Advanced methods are available via extension packages (more than 10.000 at the moment)</p>
<p>Always be sure to have the latest version of both R and R Studio on your computer - update version just before you need to use the program.</p>
<div id="how-to-get-started---understanding-r-and-rstudio" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> How to get started - understanding R (and RStudio)<a href="introduction-to-r.html#how-to-get-started---understanding-r-and-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A quick intro-tour of R Studio is given here:</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/FIrsOBy5k58" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<p>And a short intro from our courses:</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/MA0B4VzNeDM" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<div id="organise-and-save-scripts" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Organise and save scripts<a href="introduction-to-r.html#organise-and-save-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A script is a rundown from A-Z (start to end) of data analysis. A script should be self-contained. I.e. the first lines sets the libraries and imports the data, there after you may want to wrangle the data a bit (changing features as.numeric, as.factor,â¦, renaming columns, etc.). Thereafter the analysis starts.</p>
<p>Think of a script like making a meal: You need raw-materials (carrots, onions,â¦) - That is the data You need a kitchen - That is R as the software. You need knifes, pots and pans - That is the packages.</p>
<p>All is needed to work and hence you need to specify them in the script.</p>
<p>In larger projects where the same dataset may be used for several different analysis, it may be wise to have several scripts. One for importing data and modifying it (starts with import and ends with save() as an .RData file). One for descriptive analysis, one for inference, one for plots etc. So you can create a sequence of scripts to keep overview. However, this is only needed for larger projects. In small analysis you can easily include all in one script. ) Remember to put a little narrative (after a â#â at the top off you script explaining the purpose.</p>
<p>To get started go to upper left corner and open a new script. <strong>Remember to save your script as well</strong>. After youâve created a new script, try out our codes:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="introduction-to-r.html#cb1-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="introduction-to-r.html#cb3-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span>
<span id="cb3-2"><a href="introduction-to-r.html#cb3-2" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">+</span><span class="dv">3</span></span></code></pre></div>
<p>What happens if you write the letter a in the editor and run it? What about the letter b?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="introduction-to-r.html#cb4-1" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="introduction-to-r.html#cb6-1" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction-to-r.html#cb8-1" tabindex="-1"></a>a<span class="sc">+</span>b</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>â¦ or this one?</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introduction-to-r.html#cb10-1" tabindex="-1"></a>A<span class="sc">+</span>B</span></code></pre></div>
<p>R is essentially (also a) calculator, but it is case sensitive.</p>
<p>In the Editor:</p>
<p>â#â is the start of a comment (means: will not evaluated/ read by the program). This is how you can make comments in your script:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-r.html#cb11-1" tabindex="-1"></a><span class="co"># I want to add 2 and 5</span></span>
<span id="cb11-2"><a href="introduction-to-r.html#cb11-2" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-r.html#cb13-1" tabindex="-1"></a><span class="co"># whoop it is 7!</span></span></code></pre></div>
<p>â:âGenerates a sequence (e.g.Â 1:10 is the numbers from 1 to 10)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="introduction-to-r.html#cb14-1" tabindex="-1"></a>from1to10 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb14-2"><a href="introduction-to-r.html#cb14-2" tabindex="-1"></a>from10to1 <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb14-3"><a href="introduction-to-r.html#cb14-3" tabindex="-1"></a>from1to10</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introduction-to-r.html#cb16-1" tabindex="-1"></a>from10to1</span></code></pre></div>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<p>In the Console:</p>
<p>â&gt;â indicates that R is ready for a new code.</p>
<p>â+â Instead of â&gt;â means that the program is waiting for you. (you probably made a mistake in the script you tried to run) â by [ESC] the â+â turns to a â&gt;â again</p>
<p>âNAâ (Not Available) is indicating a missing value</p>
<p>âNaNâ (Not a Number) is the result of an âillegalâ operation e.g.Â log(-1) Red sentences means there is an error. R will stop calculating at the first error it meets.</p>
</div>
</div>
<div id="how-to-import-data" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> How to import data<a href="introduction-to-r.html#how-to-import-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="import-data-from-r-package" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Import data from R-package<a href="introduction-to-r.html#import-data-from-r-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this book several datasets are used targeting different research questions. However, a fair part of the analysis tools are common. That is, descriptive analysis, plots, response correlations etc.</p>
<p>The data is included in the R-packgage <em>data4consumerscience</em> you get by running the code below. Be aware that you need devtools package to install packages from github, so you need to run both code lines.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introduction-to-r.html#cb18-1" tabindex="-1"></a><span class="co"># install data-package</span></span>
<span id="cb18-2"><a href="introduction-to-r.html#cb18-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;devtools&#39;</span>)</span>
<span id="cb18-3"><a href="introduction-to-r.html#cb18-3" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&#39;mortenarendt/data4consumerscience&#39;</span>)</span></code></pre></div>
<p>The data is also available as excel sheets, and can be loaded using packages capable of reading from Excel.</p>
<p>Before you start you data import, you have to make sure the data set contains all the information you need and the format of the data (columns and rows) is correct. You can import in many different ways.</p>
</div>
<div id="importing-a-csv-file" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Importing a csv file<a href="introduction-to-r.html#importing-a-csv-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If the data is not already an csv file, but an excel file, you need to convert it: Open your Excel file, as it is in xls or xlsx format. Convert this file to csv format. NB: Some data collection tools will provide you with your data in csv and some xlsx/xls format. In Excel, you choose the âsave asâ and then choose *.csv.</p>
<p>Then move in to R, and write:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introduction-to-r.html#cb19-1" tabindex="-1"></a>DATASET1 <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="fu">file.choose</span>())</span></code></pre></div>
<p>The file.choose() function makes you point towards the file you want. You can also simply write the path to the file directly.</p>
<p>Actually, by using the file.choose() the first time you import data will prombt the path, and you can simply copy paste this from the console to your script avoiding point and click every time you want to analyse these data.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introduction-to-r.html#cb20-1" tabindex="-1"></a>DATASET1 <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">&#39;~/path/to/the/data/myfile.csv&#39;</span>)</span></code></pre></div>
<p>You decide the names/titles of your datasets and models, just do not use other signs than â.â and avoid non-English letters. We called it âDATASET1â. R will open a new window (sometimes hidden behind your other open windows), open the window to choose the wanted csv file. The data set will now also appear in the upper right corner as a line. If you double click a data set in this box, it will open in the editor window</p>
<p>You can import any *.csv format dataset, when you try it out.</p>
<p>Trouble shooting: * Try new csv format in Excel when saving the file in csv format * Try to write read.csv(file.choose()) instead * Try another import function (see below)</p>
</div>
<div id="importing-an-excel-filesheet" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Importing an Excel file/sheet<a href="introduction-to-r.html#importing-an-excel-filesheet" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you have data as excel, you may utilize packages for directly importing, without the need to convert to csv.</p>
<p>If your Excel file contains more than one sheet, you have to import each sheet separately.</p>
<p>Here we use the package <strong>readxl</strong> with the function read_excel. If the data is not in the same folder as your script, then include the path to the data, or move the data to the scriptâs location. The example below imports from an excel file ( <em>DatasetRbook.xlsx</em>) a sheet (named e.g.Â <em>BuffetData</em> ), positioned in a folder (named <em>data</em> ) in the current position.
You can download this dataset from <a href="https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/data/iBuffet.xlsx">here</a>.</p>
<p>When you have to find the path for the file on your computer, you place your cursor within the ââ in the command and click the tabulator button. Your computer files will appear, and you can find the path for your file easily. If you cannot find the path, try to use the file.choose() command to find the file, and then copy paste the path from the Console (where you find your output).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction-to-r.html#cb21-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb21-2"><a href="introduction-to-r.html#cb21-2" tabindex="-1"></a>BuffetConsumption <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;./DatasetRbook.xlsx&#39;</span>, <span class="at">sheet =</span> <span class="st">&#39;PastaBuffet&#39;</span>)</span>
<span id="cb21-3"><a href="introduction-to-r.html#cb21-3" tabindex="-1"></a>BuffetSurvey <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&#39;./DatasetRbook.xlsx&#39;</span>,<span class="at">sheet =</span> <span class="st">&#39;PastaSurvey&#39;</span>)</span></code></pre></div>
<p>The first part of the model sentence is what we want to call our dataset, here we chose âBuffetConsumptionâ in the first line (that is the same as the sheet in the Excel file for simplicity). You decide the names/titles of your datasets and model, just do not use other signs than â.â and avoid non-English letters.</p>
<p>Try to import sheets from an excel file.</p>
<p>BuffetConsumption is consumption data in grams from a buffet. The data is from 16 different persons, who came on Day 1 and Day 2 to eat Pasta with legumes and/or Pasta with mushroom. In the dataset, there is one line per buffet station per participant per experimental day.</p>
<p>BuffetSurvey is survey data collected in SurveyXact. The dataset contains data on liking, motivation, choices etc. linked to the particular buffet data. Survey could also contain demographics for the participants such as age, gender, eating habits etc. These are general and different from the former, in that they have nothing to do with the current buffet. This type of data is not included in the SurveyData.</p>
</div>
<div id="clipboard-import" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Clipboard import<a href="introduction-to-r.html#clipboard-import" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Last resort is to import via your clipboard. Go to Excel and mark the data you want to import. Make sure there are headings in the data you have marked. Copy the marked data to the clipboard. Go to the Editor and write the following command line:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introduction-to-r.html#cb22-1" tabindex="-1"></a>DATASET2 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file=</span><span class="st">&quot;clipboard&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>Meaning read the table you saved in your clipboard and save it as the name âDATASET2â (remember you choose this name). The data has headers and should be separated in cells.</p>
<p>Regardless of importation method â the dataset will appear in the upper right corner environment as a line, please check it looks correct.</p>
<p>You can import from any Excel dataset, when you try it out.</p>
</div>
<div id="looking-at-the-imported-elements" class="section level3 hasAnchor" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Looking at the imported elements<a href="introduction-to-r.html#looking-at-the-imported-elements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Have a look at the imported elements to ensure that indeed, they mimic the Excel sheets. Use the functions head(), str() and View() is your tools. They will give you the headlines in your data, how your variables are categorized and open the dataset in a new tab.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introduction-to-r.html#cb23-1" tabindex="-1"></a><span class="fu">head</span>(BuffetConsumption)</span>
<span id="cb23-2"><a href="introduction-to-r.html#cb23-2" tabindex="-1"></a><span class="fu">str</span>(BuffetConsumption)</span>
<span id="cb23-3"><a href="introduction-to-r.html#cb23-3" tabindex="-1"></a><span class="fu">View</span>(BuffetConsumption)</span></code></pre></div>
<p>Try to use the BuffetConsumption dataset. If it does not look as expected, try to import it again using a different method.</p>
</div>
<div id="numbers-and-factors---changing-categorisation" class="section level3 hasAnchor" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Numbers and factors - changing categorisation<a href="introduction-to-r.html#numbers-and-factors---changing-categorisation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>During the import R will automatically categorise your variables: if they are read as numbers or letters. For instance, if day of the experiment is called 1 and 2 in the data file and is then read as numeric (num). As Day 2 is not double the value of Day 1, we need to change this variable into a factor (Factor) or character (chr). Use the str() function to check your variables before your change them. You transform your variables using as.numeric() or as.character().</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introduction-to-r.html#cb24-1" tabindex="-1"></a>BuffetConsumption<span class="sc">$</span>Day<span class="ot">&lt;-</span><span class="fu">as.factor</span>(BuffetConsumption<span class="sc">$</span>Day) </span></code></pre></div>
<p>Meaning take the variable Day in the dataset you called BuffetConsumption, make it a factor and put it into the same variable name (overwrites it). If you want to have a new variable coded and then keep the old one, simply just give it a new name, e.g.Â âDayFactorâ. The dataset will then be extended with one variable, but sometimes it is nice to have both versions.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introduction-to-r.html#cb25-1" tabindex="-1"></a>BuffetConsumption<span class="sc">$</span>DayFactor<span class="ot">&lt;-</span><span class="fu">as.factor</span>(BuffetConsumption<span class="sc">$</span>Day) </span></code></pre></div>
</div>
</div>
<div id="how-to-edit-and-merge-datasets" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> How to edit and merge datasets<a href="introduction-to-r.html#how-to-edit-and-merge-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes you have to merge two data sets. This is needed if you have for instance consumption data in one Excel sheet and survey data in another Excel sheet.</p>
<p>Setup the data in Excel such that they match the below in terms of format.</p>
<p>What is important is:</p>
<ul>
<li>First row is used on headings and none of these are repeated. I.e. all unique within a sheet</li>
<li>Data comes from row 2 and then on to the right</li>
<li>All rows should contain data (NB: empty cell is also data, e.g.Â an unanswered questions), so all empty rows are removed (not cells)</li>
<li>Headings between sheets referring to the same: e.g.Â participant ID should have exactly similar heading</li>
<li>If you have calculated stuff within Excel such as a sum of the numbers in a column, then these should be removed from the sheet. It is not data!</li>
</ul>
<p>We suggest that you keep both the original version of the data as a sheet, and the ready-to-import version as a sheet, so you do not accidentally delete data.</p>
<div id="edit-using-tidyverse" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Edit using Tidyverse<a href="introduction-to-r.html#edit-using-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <em>Consumption</em> data is optimal as is. We have the data as long format with all repsonses in <em>one</em> coloumn and then the next columns clarifying the design, time, type, person etc. However the <em>Survey</em> data is not optimal directly. We need to revert the data to both long and wide format.</p>
<p>There are several ways to do this, including editing in Excel. Here we show how it can be done in R using <em>tidyverse</em>. Tidyverse is a larger framework. For introduction see:</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/HPJn1CMvtmI" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<p>and maybe visit <a href="https://www.tidyverse.org/">tidyverse-homepage</a> for resources.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introduction-to-r.html#cb26-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb26-2"><a href="introduction-to-r.html#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="introduction-to-r.html#cb26-3" tabindex="-1"></a>Surveylong <span class="ot">&lt;-</span> BuffetSurvey <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="introduction-to-r.html#cb26-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> Pasta_with_legumes_is_visually_appealing_to_me<span class="sc">:</span><span class="st">`</span><span class="at">I_like_the_taste_of_pasta_with_mushrooms!</span><span class="st">`</span>, <span class="at">names_to =</span> <span class="st">&#39;question&#39;</span>,<span class="at">values_to =</span> <span class="st">&#39;answ&#39;</span>)</span>
<span id="cb26-5"><a href="introduction-to-r.html#cb26-5" tabindex="-1"></a></span>
<span id="cb26-6"><a href="introduction-to-r.html#cb26-6" tabindex="-1"></a></span>
<span id="cb26-7"><a href="introduction-to-r.html#cb26-7" tabindex="-1"></a>Surveywide <span class="ot">&lt;-</span> Surveylong <span class="sc">%&gt;%</span> </span>
<span id="cb26-8"><a href="introduction-to-r.html#cb26-8" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span>  question, <span class="at">values_from =</span> answ)</span></code></pre></div>
<p>The code above does exactly that, with <em>Surveylong</em> and <em>Surveywide</em> as the resulting data sets. Try to compare BuffetSurvey with Surveywide - did we already have a wide version of the dataset?</p>
<p>What is also introduced here is the <em>pipe</em> operator <strong>%&gt;%</strong>. It originates from the <em>dplyr</em>-package inside the <em>tidyverse</em>-package, and is a handy tool for data manipulation. The way it works is, that whatever is written on the <strong>right</strong> side of the operator, will be used as the first argument in the function written on the <strong>left</strong> side of the operator. This means, that <code>x %\&gt;% f(y)</code> will result in f(x,y) - or in our case:</p>
<p><code>BuffetSurvey %\&gt;% pivot_longer(cols = Pasta_with_legumes_is_visually_appealing_to_me:I_like_the_taste_of_pasta_with_mushrooms!, names_to = 'question',values_to = 'answ')</code></p>
<p>will be equal to:</p>
<p><code>pivot_longer(BuffetSurvey, cols = Pasta_with_legumes_is_visually_appealing_to_me:I_like_the_taste_of_pasta_with_mushrooms!, names_to = 'question',values_to = 'answ')</code></p>
<p>The idea is then to âchainâ (or âpipeâ as it is also known) <code>%\&gt;%</code> together line after line, using different functions in a sequence, which makes the code more readable and often shorter as well.</p>
<p><strong>pivot_longer</strong> will lengthen the data, by stacking the columns we specified on top of each other, resulting in each row being one single answer to one of the 4 questions. The answer will be in the <em>answ</em>-column, the question in the <em>question</em>-column, and the rest of the columns can then be used to e.g.Â group the data.</p>
<p><strong>pivot_wider</strong> will do the opposite as <strong>pivot_longer</strong>, and spread one column in several columns depending on what the columns contains. In our case the <em>question</em>-column in spread into 4 columns, one for each question from the survey, with the numerical values of the answers as their values.</p>
<p>You might have also noticed, that when a variable name contains a space, R needs help understanding that this is indeed a variable. Different symbols are added, and while you CAN write everything just the way R know how to read it, there is an easier way to make sure that everything is written correctly. You can call the variables from the data frame that they originate from, using <strong>âdataframe$â</strong> and then hit TAB. A list of the variables of which the data frame consist will appear, and from this you can choose the right one - always spelled correctly, and the way R knows how the interpret it.</p>
<div id="merging-datasets" class="section level4 hasAnchor" number="2.3.1.1">
<h4><span class="header-section-number">2.3.1.1</span> Merging datasets<a href="introduction-to-r.html#merging-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For the sake of being able to compare consumption (obtained from buffet data) with liking and motives (obtained from the survey data) these data frames needs to be merged. There are several merge options, here we use <strong>left_join()</strong> but <strong>full_join()</strong> and <strong>right_join()</strong> might more suited in some situations - depending on which data set you want to have appear first, and how you want to merge them.</p>
<p>If you feel more comfortable with Excel, you can also merge the two data frames in one Excel sheet before importing it to R.</p>
</div>
<div id="adding-survey-to-buffets" class="section level4 hasAnchor" number="2.3.1.2">
<h4><span class="header-section-number">2.3.1.2</span> Adding survey to buffets<a href="introduction-to-r.html#adding-survey-to-buffets" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Merging should be done such that Person and Day in each separate sheet match. If you additionally have demographic data (gender, age, etc.) then obviously only Person should match, as the data is constant over Days.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introduction-to-r.html#cb27-1" tabindex="-1"></a>Buffet_plus_survey <span class="ot">&lt;-</span> BuffetConsumption <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="introduction-to-r.html#cb27-2" tabindex="-1"></a>  <span class="fu">left_join</span>(BuffetSurvey, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&#39;Person&#39;</span>,<span class="st">&#39;Day&#39;</span>))</span></code></pre></div>
<p><strong>left_join</strong> checks in <em>BuffetSurvey</em> and <em>BuffetConsumption</em> in columns âPersonâ and âDayâ, and will add rows from <em>BuffetSurvey</em> to <em>BuffetConsumption</em> when values in both columns are the same.</p>
</div>
</div>
</div>
<div id="how-to-save-the-data" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> How to save the data<a href="introduction-to-r.html#how-to-save-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use <strong>save.image()</strong> to save everything in the <em>Environment</em> (all variables shown in the âEnvironmentâ-tab in the upper right corner of RStudio), or use <strong>save()</strong> to specify which elements to save using the âlistâ-input.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introduction-to-r.html#cb28-1" tabindex="-1"></a><span class="co"># Saving everything to the folder of your choice</span></span>
<span id="cb28-2"><a href="introduction-to-r.html#cb28-2" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&#39;./data/FolderYouWantToSaveYourProjectTo/AllMyData.RData&#39;</span>) </span>
<span id="cb28-3"><a href="introduction-to-r.html#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="introduction-to-r.html#cb28-4" tabindex="-1"></a><span class="co"># Saving just the specified datasets and other elements to your folder of choice</span></span>
<span id="cb28-5"><a href="introduction-to-r.html#cb28-5" tabindex="-1"></a><span class="fu">save</span>(<span class="at">file =</span> <span class="st">&#39;./data/FolderYouWantToSaveYourProjectTo/SomeOfMyData.RData&#39;</span>, <span class="at">list =</span> <span class="fu">c</span>(<span class="st">&#39;Survey&#39;</span>,<span class="st">&#39;Surveylong_buffet&#39;</span>,<span class="st">&#39;Surveylong&#39;</span>,<span class="st">&#39;Buffet_survey&#39;&#39;)) </span></span></code></pre></div>
</div>
<div id="how-to-export-data-results-to-excel-and-the-like" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> How to export data / results to Excel and the like<a href="introduction-to-r.html#how-to-export-data-results-to-excel-and-the-like" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can export any data frame from R to excel (for instance using the <em>rio</em> package), as well as saving it as .RData for further analysis.</p>
<p>This can obviously be used for exporting your data after some modifications. BUT it is also very useful for exporting data frames with <em>results</em> from analysis.</p>
<p>When exporting data, it is also important to tell R where to place the exported file. You do this by specifying the path to the desired folder, followed by the name that <strong>you</strong> choose for the exported file (often it makes sense to choose the same name as the data frame in R).</p>
<p>It is also important to specify the file-extension, to ensure that you create the right file type - in this case <em>.xlsx</em>, but rio can also export to other formats such as .txt or .csv.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction-to-r.html#cb29-1" tabindex="-1"></a><span class="co"># export one data frame</span></span>
<span id="cb29-2"><a href="introduction-to-r.html#cb29-2" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(Surveylong_buffet,<span class="at">file =</span> <span class="st">&#39;./data/YourFolderForNiceTables/Surveylong_buffet.xlsx&#39;</span>) </span></code></pre></div>
</div>
<div id="how-to-load-your-rdata" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> How to load your RData<a href="introduction-to-r.html#how-to-load-your-rdata" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once you have saved the data, you can simply load the data directly, and you do not need to do the import-setup every time you want to do an analysis on the data.</p>
<p>This part is not a part of the data import, but it is a good idea just to check that the data indeed is setup as expected.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introduction-to-r.html#cb30-1" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&#39;./data/FolderWhereYourDataAreStored/YourData.RData&#39;</span>) </span></code></pre></div>
</div>
<div id="how-to-clear-your-environment" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> How to clear your environment<a href="introduction-to-r.html#how-to-clear-your-environment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you want to start a new project or a new analysis, it can be useful to clear the environment for the data that you previously used. This can be done either by the code shown below, or by clicking the brush in the top-right part of the RStudio-window.</p>
<p>But be aware - when you clear your environment, you will have to load the data again</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introduction-to-r.html#cb31-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="how-to-r-project" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> How to R project<a href="introduction-to-r.html#how-to-r-project" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R Projects offer a structured and organized way to manage your R-based projects, making it easier to keep your work tidy, reproducible, and collaborative.</p>
<p>Some of the benefits om R Projects are:</p>
<p><strong>Isolation and Dependency Management:</strong> Each R Project has its own working directory and R environment.</p>
<p><strong>Data Management:</strong> Each project has its own workspace, isolating variables and objects from other projects.</p>
<p><strong>Project structuring:</strong> R Projects promotes a structured approach to organizing files</p>
<div id="how-to-create-an-r-project" class="section level3 hasAnchor" number="2.8.1">
<h3><span class="header-section-number">2.8.1</span> How to Create an R Project<a href="introduction-to-r.html#how-to-create-an-r-project" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Click on âFileâ in the top menu.</li>
<li>Select âNew Projectâ¦â</li>
<li>Select the project type âNew Directoryâ.</li>
<li>Select the project type âNew projectâ</li>
<li>Specify the project path and project name.</li>
<li>Click âCreate Project.â</li>
<li>To switch projects or close projects, select the drop down menu in the upper right corner and select âYour Project Nameâ or âClose projectâ</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="libraries.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/edit/master/01_IntroChaptersGeneric.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/mortenarendt/dataanalyssisconsumerscience/blob/master/01_IntroChaptersGeneric.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
